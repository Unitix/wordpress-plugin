export var currencyMap = {
  ALL: 'L',
  AFN: '؋',
  ARS: '$',
  AWG: 'ƒ',
  AUD: '$',
  AZN: '₼',
  BSD: '$',
  BBD: '$',
  BYR: 'p.',
  BZD: 'BZ$',
  BMD: '$',
  BOB: 'Bs.',
  BAM: 'KM',
  BWP: 'P',
  BGN: 'лв',
  BRL: 'R$',
  BND: '$',
  KHR: '៛',
  CAD: '$',
  KYD: '$',
  CLP: '$',
  CNY: '¥',
  COP: '$',
  CRC: '₡',
  HRK: 'kn',
  CUP: '₱',
  CZK: 'Kč',
  DKK: 'kr',
  DOP: 'RD$',
  XCD: '$',
  EGP: '£',
  SVC: '$',
  EEK: 'kr',
  EUR: '€',
  FKP: '£',
  FJD: '$',
  GHC: '₵',
  GIP: '£',
  GTQ: 'Q',
  GGP: '£',
  GYD: '$',
  HNL: 'L',
  HKD: '$',
  HUF: 'Ft',
  ISK: 'kr',
  INR: '₹',
  IDR: 'Rp',
  IRR: '﷼',
  IMP: '£',
  ILS: '₪',
  JMD: '`J$',
  JPY: '¥',
  JEP: '£',
  KES: 'KSh',
  KZT: 'лв',
  KPW: '₩',
  KRW: '₩',
  KGS: 'лв',
  LAK: '₭',
  LVL: 'Ls',
  LBP: '£',
  LRD: '$',
  LTL: 'Lt',
  MKD: 'ден',
  MYR: 'RM',
  MUR: '₨',
  MXN: '$',
  MNT: '₮',
  MZN: 'MT',
  NAD: '$',
  NPR: '₨',
  ANG: 'ƒ',
  NZD: '$',
  NIO: 'C$',
  NGN: '₦',
  NOK: 'kr',
  OMR: '﷼',
  PKR: '₨',
  PAB: 'B/.',
  PYG: 'Gs',
  PEN: 'S/.',
  PHP: '₱',
  PLN: 'zł',
  QAR: '﷼',
  RON: 'lei',
  RUB: '₽',
  RMB: '￥',
  SHP: '£',
  SAR: '﷼',
  RSD: 'Дин.',
  SCR: '₨',
  SGD: '$',
  SBD: '$',
  SOS: 'S',
  ZAR: 'R',
  LKR: '₨',
  SEK: 'kr',
  CHF: 'CHF',
  SRD: '$',
  SYP: '£',
  TZS: 'TSh',
  TWD: 'NT$',
  THB: '฿',
  TTD: 'TT$',
  TRY: '₺',
  TRL: '₤',
  TVD: '$',
  UGX: 'USh',
  UAH: '₴',
  GBP: '£',
  USD: '$',
  UYU: '$U',
  UZS: 'лв',
  VEF: 'Bs',
  VND: '₫',
  YER: '﷼',
  ZWD: 'Z$'
};
export function formatCurrency(amount, options) {
  /*
    *   Example usage:
             formatCurrency(-222.123456, {currency: 'EGP',
                                         showCodeIfNoSymbol: true,
                                         financialNegative: true,
                                         decimalPlaces: 3})
             --> '(£222.123)'
    */

  var symbol;
  var negative = false;
  var result;
  options = options || {};
  options.currency = options.currency || 'AUD';
  options.showCodeIfNoSymbol = options.showCodeIfNoSymbol || true;
  options.symbolAfterAmount = options.symbolAfterAmount || false;
  options.financialNegative = options.financialNegative || false;
  options.codeAfterSymbol = options.codeAfterSymbol || false;
  options.codeBeforeSymbol = options.codeBeforeSymbol || false;
  options.spaceBetweenSymbol = options.spaceBetweenSymbol || false;
  options.decimalPlaces = options.decimalPlaces || 2;
  options.decimalSeperator = options.decimalSeperator || '.';
  options.codeAfterAmount = options.codeAfterAmount || false;
  if (amount < 0.0) {
    negative = true;
    amount *= -1.0; // eslint-disable-line
  }
  if (Object.prototype.hasOwnProperty.call(currencyMap, options.currency)) {
    symbol = currencyMap[options.currency];
    if (options.codeAfterSymbol) {
      symbol += '(' + options.currency + ') ';
    }
    if (options.codeBeforeSymbol) {
      symbol = "(".concat(options.currency, ") ").concat(symbol);
    }
  } else if (options.showCodeIfNoSymbol) {
    symbol = options.currency;
  } else {
    symbol = '';
  }
  amount = amount.toFixed(options.decimalPlaces);
  amount = amount.replace('.', options.decimalSeperator);
  if (options.symbolAfterAmount) {
    result = amount;
    if (options.spaceBetweenSymbol) {
      result += ' ';
    }
    result += symbol;
  } else {
    result = symbol;
    if (options.spaceBetweenSymbol) {
      result += ' ';
    }
    result += amount;
  }
  if (negative) {
    if (options.financialNegative) {
      result = "(".concat(result, ")");
    } else {
      result = "-".concat(result);
    }
  }
  if (options.codeAfterAmount === true) {
    result += " (".concat(options.currency, ")");
  }
  return result;
}
function taxPercent(tax) {
  return tax ? "(".concat(tax.taxPercent, "%)") : '';
}
function includesTax(tax) {
  return tax && tax.taxPercent > 0 ? " inc ".concat(tax.taxName, " ").concat(taxPercent(tax)) : '';
}
export function calculateTotalWithTax(total, tax) {
  var taxMultiplier = 1.0;
  if (tax && tax.taxPercent > 0) {
    taxMultiplier += tax.taxPercent / 100;
    taxMultiplier = parseFloat(taxMultiplier.toFixed(2));
  }
  var grandTotal = total * taxMultiplier;
  return parseFloat(grandTotal.toFixed(2));
}
export function currencyTaxAndCost(currency, tax, theCost) {
  var currencyOptions = {
    currency: currency,
    showCodeIfNoSymbol: false
  };
  var totalCost = calculateTotalWithTax(theCost, tax);
  var withCurrency = formatCurrency(totalCost, currencyOptions);
  return "".concat(currency, " ").concat(withCurrency, " ").concat(includesTax(tax));
}
export function currencyTotalCostShowIncTax(job) {
  var currency = job.currency,
    taxType = job.taxType,
    totalCost = job.totalCost;
  var currencyOptions = {
    currency: currency,
    showCodeIfNoSymbol: false
  };
  var withCurrency = formatCurrency(totalCost ? totalCost : 0, currencyOptions);
  return "".concat(currency, " ").concat(withCurrency, " ").concat(includesTax(taxType));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjdXJyZW5jeU1hcCIsIkFMTCIsIkFGTiIsIkFSUyIsIkFXRyIsIkFVRCIsIkFaTiIsIkJTRCIsIkJCRCIsIkJZUiIsIkJaRCIsIkJNRCIsIkJPQiIsIkJBTSIsIkJXUCIsIkJHTiIsIkJSTCIsIkJORCIsIktIUiIsIkNBRCIsIktZRCIsIkNMUCIsIkNOWSIsIkNPUCIsIkNSQyIsIkhSSyIsIkNVUCIsIkNaSyIsIkRLSyIsIkRPUCIsIlhDRCIsIkVHUCIsIlNWQyIsIkVFSyIsIkVVUiIsIkZLUCIsIkZKRCIsIkdIQyIsIkdJUCIsIkdUUSIsIkdHUCIsIkdZRCIsIkhOTCIsIkhLRCIsIkhVRiIsIklTSyIsIklOUiIsIklEUiIsIklSUiIsIklNUCIsIklMUyIsIkpNRCIsIkpQWSIsIkpFUCIsIktFUyIsIktaVCIsIktQVyIsIktSVyIsIktHUyIsIkxBSyIsIkxWTCIsIkxCUCIsIkxSRCIsIkxUTCIsIk1LRCIsIk1ZUiIsIk1VUiIsIk1YTiIsIk1OVCIsIk1aTiIsIk5BRCIsIk5QUiIsIkFORyIsIk5aRCIsIk5JTyIsIk5HTiIsIk5PSyIsIk9NUiIsIlBLUiIsIlBBQiIsIlBZRyIsIlBFTiIsIlBIUCIsIlBMTiIsIlFBUiIsIlJPTiIsIlJVQiIsIlJNQiIsIlNIUCIsIlNBUiIsIlJTRCIsIlNDUiIsIlNHRCIsIlNCRCIsIlNPUyIsIlpBUiIsIkxLUiIsIlNFSyIsIkNIRiIsIlNSRCIsIlNZUCIsIlRaUyIsIlRXRCIsIlRIQiIsIlRURCIsIlRSWSIsIlRSTCIsIlRWRCIsIlVHWCIsIlVBSCIsIkdCUCIsIlVTRCIsIlVZVSIsIlVaUyIsIlZFRiIsIlZORCIsIllFUiIsIlpXRCIsImZvcm1hdEN1cnJlbmN5IiwiYW1vdW50Iiwib3B0aW9ucyIsInN5bWJvbCIsIm5lZ2F0aXZlIiwicmVzdWx0IiwiY3VycmVuY3kiLCJzaG93Q29kZUlmTm9TeW1ib2wiLCJzeW1ib2xBZnRlckFtb3VudCIsImZpbmFuY2lhbE5lZ2F0aXZlIiwiY29kZUFmdGVyU3ltYm9sIiwiY29kZUJlZm9yZVN5bWJvbCIsInNwYWNlQmV0d2VlblN5bWJvbCIsImRlY2ltYWxQbGFjZXMiLCJkZWNpbWFsU2VwZXJhdG9yIiwiY29kZUFmdGVyQW1vdW50IiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiY29uY2F0IiwidG9GaXhlZCIsInJlcGxhY2UiLCJ0YXhQZXJjZW50IiwidGF4IiwiaW5jbHVkZXNUYXgiLCJ0YXhOYW1lIiwiY2FsY3VsYXRlVG90YWxXaXRoVGF4IiwidG90YWwiLCJ0YXhNdWx0aXBsaWVyIiwicGFyc2VGbG9hdCIsImdyYW5kVG90YWwiLCJjdXJyZW5jeVRheEFuZENvc3QiLCJ0aGVDb3N0IiwiY3VycmVuY3lPcHRpb25zIiwidG90YWxDb3N0Iiwid2l0aEN1cnJlbmN5IiwiY3VycmVuY3lUb3RhbENvc3RTaG93SW5jVGF4Iiwiam9iIiwidGF4VHlwZSJdLCJzb3VyY2VzIjpbIi4uL3NyYy9jdXJyZW5jeS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgY3VycmVuY3lNYXA6IGFueSA9XG4gIHtBTEw6ICdMJyxcbiAgICBBRk46ICfYiycsXG4gICAgQVJTOiAnJCcsXG4gICAgQVdHOiAnxpInLFxuICAgIEFVRDogJyQnLFxuICAgIEFaTjogJ+KCvCcsXG4gICAgQlNEOiAnJCcsXG4gICAgQkJEOiAnJCcsXG4gICAgQllSOiAncC4nLFxuICAgIEJaRDogJ0JaJCcsXG4gICAgQk1EOiAnJCcsXG4gICAgQk9COiAnQnMuJyxcbiAgICBCQU06ICdLTScsXG4gICAgQldQOiAnUCcsXG4gICAgQkdOOiAn0LvQsicsXG4gICAgQlJMOiAnUiQnLFxuICAgIEJORDogJyQnLFxuICAgIEtIUjogJ+GfmycsXG4gICAgQ0FEOiAnJCcsXG4gICAgS1lEOiAnJCcsXG4gICAgQ0xQOiAnJCcsXG4gICAgQ05ZOiAnwqUnLFxuICAgIENPUDogJyQnLFxuICAgIENSQzogJ+KCoScsXG4gICAgSFJLOiAna24nLFxuICAgIENVUDogJ+KCsScsXG4gICAgQ1pLOiAnS8SNJyxcbiAgICBES0s6ICdrcicsXG4gICAgRE9QOiAnUkQkJyxcbiAgICBYQ0Q6ICckJyxcbiAgICBFR1A6ICfCoycsXG4gICAgU1ZDOiAnJCcsXG4gICAgRUVLOiAna3InLFxuICAgIEVVUjogJ+KCrCcsXG4gICAgRktQOiAnwqMnLFxuICAgIEZKRDogJyQnLFxuICAgIEdIQzogJ+KCtScsXG4gICAgR0lQOiAnwqMnLFxuICAgIEdUUTogJ1EnLFxuICAgIEdHUDogJ8KjJyxcbiAgICBHWUQ6ICckJyxcbiAgICBITkw6ICdMJyxcbiAgICBIS0Q6ICckJyxcbiAgICBIVUY6ICdGdCcsXG4gICAgSVNLOiAna3InLFxuICAgIElOUjogJ+KCuScsXG4gICAgSURSOiAnUnAnLFxuICAgIElSUjogJ++3vCcsXG4gICAgSU1QOiAnwqMnLFxuICAgIElMUzogJ+KCqicsXG4gICAgSk1EOiAnYEokJyxcbiAgICBKUFk6ICfCpScsXG4gICAgSkVQOiAnwqMnLFxuICAgIEtFUzogJ0tTaCcsXG4gICAgS1pUOiAn0LvQsicsXG4gICAgS1BXOiAn4oKpJyxcbiAgICBLUlc6ICfigqknLFxuICAgIEtHUzogJ9C70LInLFxuICAgIExBSzogJ+KCrScsXG4gICAgTFZMOiAnTHMnLFxuICAgIExCUDogJ8KjJyxcbiAgICBMUkQ6ICckJyxcbiAgICBMVEw6ICdMdCcsXG4gICAgTUtEOiAn0LTQtdC9JyxcbiAgICBNWVI6ICdSTScsXG4gICAgTVVSOiAn4oKoJyxcbiAgICBNWE46ICckJyxcbiAgICBNTlQ6ICfigq4nLFxuICAgIE1aTjogJ01UJyxcbiAgICBOQUQ6ICckJyxcbiAgICBOUFI6ICfigqgnLFxuICAgIEFORzogJ8aSJyxcbiAgICBOWkQ6ICckJyxcbiAgICBOSU86ICdDJCcsXG4gICAgTkdOOiAn4oKmJyxcbiAgICBOT0s6ICdrcicsXG4gICAgT01SOiAn77e8JyxcbiAgICBQS1I6ICfigqgnLFxuICAgIFBBQjogJ0IvLicsXG4gICAgUFlHOiAnR3MnLFxuICAgIFBFTjogJ1MvLicsXG4gICAgUEhQOiAn4oKxJyxcbiAgICBQTE46ICd6xYInLFxuICAgIFFBUjogJ++3vCcsXG4gICAgUk9OOiAnbGVpJyxcbiAgICBSVUI6ICfigr0nLFxuICAgIFJNQjogJ++/pScsXG4gICAgU0hQOiAnwqMnLFxuICAgIFNBUjogJ++3vCcsXG4gICAgUlNEOiAn0JTQuNC9LicsXG4gICAgU0NSOiAn4oKoJyxcbiAgICBTR0Q6ICckJyxcbiAgICBTQkQ6ICckJyxcbiAgICBTT1M6ICdTJyxcbiAgICBaQVI6ICdSJyxcbiAgICBMS1I6ICfigqgnLFxuICAgIFNFSzogJ2tyJyxcbiAgICBDSEY6ICdDSEYnLFxuICAgIFNSRDogJyQnLFxuICAgIFNZUDogJ8KjJyxcbiAgICBUWlM6ICdUU2gnLFxuICAgIFRXRDogJ05UJCcsXG4gICAgVEhCOiAn4Li/JyxcbiAgICBUVEQ6ICdUVCQnLFxuICAgIFRSWTogJ+KCuicsXG4gICAgVFJMOiAn4oKkJyxcbiAgICBUVkQ6ICckJyxcbiAgICBVR1g6ICdVU2gnLFxuICAgIFVBSDogJ+KCtCcsXG4gICAgR0JQOiAnwqMnLFxuICAgIFVTRDogJyQnLFxuICAgIFVZVTogJyRVJyxcbiAgICBVWlM6ICfQu9CyJyxcbiAgICBWRUY6ICdCcycsXG4gICAgVk5EOiAn4oKrJyxcbiAgICBZRVI6ICfvt7wnLFxuICAgIFpXRDogJ1okJ307XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRDdXJyZW5jeShhbW91bnQ6IGFueSwgb3B0aW9uczogYW55KSB7XG4gIC8qXG4gICAgKiAgIEV4YW1wbGUgdXNhZ2U6XG5cbiAgICAgICAgICAgIGZvcm1hdEN1cnJlbmN5KC0yMjIuMTIzNDU2LCB7Y3VycmVuY3k6ICdFR1AnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29kZUlmTm9TeW1ib2w6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFuY2lhbE5lZ2F0aXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNpbWFsUGxhY2VzOiAzfSlcblxuICAgICAgICAgICAgLS0+ICcowqMyMjIuMTIzKSdcbiAgICAqL1xuXG4gIGxldCBzeW1ib2w7XG4gIGxldCBuZWdhdGl2ZSA9IGZhbHNlO1xuICBsZXQgcmVzdWx0O1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgb3B0aW9ucy5jdXJyZW5jeSA9IG9wdGlvbnMuY3VycmVuY3kgfHwgJ0FVRCc7XG4gIG9wdGlvbnMuc2hvd0NvZGVJZk5vU3ltYm9sID0gb3B0aW9ucy5zaG93Q29kZUlmTm9TeW1ib2wgfHwgdHJ1ZTtcbiAgb3B0aW9ucy5zeW1ib2xBZnRlckFtb3VudCA9IG9wdGlvbnMuc3ltYm9sQWZ0ZXJBbW91bnQgfHwgZmFsc2U7XG4gIG9wdGlvbnMuZmluYW5jaWFsTmVnYXRpdmUgPSBvcHRpb25zLmZpbmFuY2lhbE5lZ2F0aXZlIHx8IGZhbHNlO1xuICBvcHRpb25zLmNvZGVBZnRlclN5bWJvbCA9IG9wdGlvbnMuY29kZUFmdGVyU3ltYm9sIHx8IGZhbHNlO1xuICBvcHRpb25zLmNvZGVCZWZvcmVTeW1ib2wgPSBvcHRpb25zLmNvZGVCZWZvcmVTeW1ib2wgfHwgZmFsc2U7XG4gIG9wdGlvbnMuc3BhY2VCZXR3ZWVuU3ltYm9sID0gb3B0aW9ucy5zcGFjZUJldHdlZW5TeW1ib2wgfHwgZmFsc2U7XG4gIG9wdGlvbnMuZGVjaW1hbFBsYWNlcyA9IG9wdGlvbnMuZGVjaW1hbFBsYWNlcyB8fCAyO1xuICBvcHRpb25zLmRlY2ltYWxTZXBlcmF0b3IgPSBvcHRpb25zLmRlY2ltYWxTZXBlcmF0b3IgfHwgJy4nO1xuICBvcHRpb25zLmNvZGVBZnRlckFtb3VudCA9IG9wdGlvbnMuY29kZUFmdGVyQW1vdW50IHx8IGZhbHNlO1xuICBpZiAoYW1vdW50IDwgMC4wKSB7XG4gICAgbmVnYXRpdmUgPSB0cnVlO1xuICAgICAgICBhbW91bnQgKj0gLTEuMDsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICB9XG4gIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoY3VycmVuY3lNYXAsIG9wdGlvbnMuY3VycmVuY3kpKSB7XG4gICAgc3ltYm9sID0gY3VycmVuY3lNYXBbb3B0aW9ucy5jdXJyZW5jeV07XG4gICAgaWYgKG9wdGlvbnMuY29kZUFmdGVyU3ltYm9sKSB7XG4gICAgICBzeW1ib2wgKz0gJygnICsgb3B0aW9ucy5jdXJyZW5jeSArICcpICc7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmNvZGVCZWZvcmVTeW1ib2wpIHtcbiAgICAgIHN5bWJvbCA9IGAoJHtvcHRpb25zLmN1cnJlbmN5fSkgJHtzeW1ib2x9YDtcbiAgICB9XG4gIH0gZWxzZSBpZiAob3B0aW9ucy5zaG93Q29kZUlmTm9TeW1ib2wpIHtcbiAgICBzeW1ib2wgPSBvcHRpb25zLmN1cnJlbmN5O1xuICB9IGVsc2Uge1xuICAgIHN5bWJvbCA9ICcnO1xuICB9XG4gICAgYW1vdW50ID0gYW1vdW50LnRvRml4ZWQob3B0aW9ucy5kZWNpbWFsUGxhY2VzKTtcbiAgICBhbW91bnQgPSBhbW91bnQucmVwbGFjZSgnLicsIG9wdGlvbnMuZGVjaW1hbFNlcGVyYXRvcik7XG4gIGlmIChvcHRpb25zLnN5bWJvbEFmdGVyQW1vdW50KSB7XG4gICAgcmVzdWx0ID0gYW1vdW50O1xuICAgIGlmIChvcHRpb25zLnNwYWNlQmV0d2VlblN5bWJvbCkge1xuICAgICAgcmVzdWx0ICs9ICcgJztcbiAgICB9XG4gICAgcmVzdWx0ICs9IHN5bWJvbDtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSBzeW1ib2w7XG4gICAgaWYgKG9wdGlvbnMuc3BhY2VCZXR3ZWVuU3ltYm9sKSB7XG4gICAgICByZXN1bHQgKz0gJyAnO1xuICAgIH1cbiAgICByZXN1bHQgKz0gYW1vdW50O1xuICB9XG4gIGlmIChuZWdhdGl2ZSkge1xuICAgIGlmIChvcHRpb25zLmZpbmFuY2lhbE5lZ2F0aXZlKSB7XG4gICAgICByZXN1bHQgPSBgKCR7cmVzdWx0fSlgO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBgLSR7cmVzdWx0fWA7XG4gICAgfVxuICB9XG4gIGlmIChvcHRpb25zLmNvZGVBZnRlckFtb3VudCA9PT0gdHJ1ZSkge1xuICAgIHJlc3VsdCArPSBgICgke29wdGlvbnMuY3VycmVuY3l9KWA7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gdGF4UGVyY2VudCh0YXg6IGFueSkge1xuICByZXR1cm4gdGF4ID8gYCgke3RheC50YXhQZXJjZW50fSUpYCA6ICcnO1xufVxuXG5mdW5jdGlvbiBpbmNsdWRlc1RheCh0YXg6IGFueSkge1xuICByZXR1cm4gdGF4ICYmIHRheC50YXhQZXJjZW50ID4gMCA/XG4gICAgYCBpbmMgJHt0YXgudGF4TmFtZX0gJHt0YXhQZXJjZW50KHRheCl9YCA6ICcnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlVG90YWxXaXRoVGF4KHRvdGFsOiBudW1iZXIsIHRheDogYW55KSB7XG4gIGxldCB0YXhNdWx0aXBsaWVyID0gMS4wO1xuICBpZiAodGF4ICYmIHRheC50YXhQZXJjZW50ID4gMCkge1xuICAgIHRheE11bHRpcGxpZXIgKz0gdGF4LnRheFBlcmNlbnQgLyAxMDA7XG4gICAgdGF4TXVsdGlwbGllciA9IHBhcnNlRmxvYXQodGF4TXVsdGlwbGllci50b0ZpeGVkKDIpKTtcbiAgfVxuICBsZXQgZ3JhbmRUb3RhbCA9IHRvdGFsICogdGF4TXVsdGlwbGllcjtcbiAgcmV0dXJuIHBhcnNlRmxvYXQoZ3JhbmRUb3RhbC50b0ZpeGVkKDIpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGN1cnJlbmN5VGF4QW5kQ29zdChjdXJyZW5jeTogc3RyaW5nLCB0YXg6IGFueSwgdGhlQ29zdDogbnVtYmVyKSB7XG4gIGNvbnN0IGN1cnJlbmN5T3B0aW9ucyA9IHtjdXJyZW5jeTogY3VycmVuY3ksIHNob3dDb2RlSWZOb1N5bWJvbDogZmFsc2V9O1xuICBjb25zdCB0b3RhbENvc3QgPSBjYWxjdWxhdGVUb3RhbFdpdGhUYXgodGhlQ29zdCwgdGF4KTtcbiAgY29uc3Qgd2l0aEN1cnJlbmN5ID0gZm9ybWF0Q3VycmVuY3kodG90YWxDb3N0LCBjdXJyZW5jeU9wdGlvbnMpO1xuICByZXR1cm4gYCR7Y3VycmVuY3l9ICR7d2l0aEN1cnJlbmN5fSAke2luY2x1ZGVzVGF4KHRheCl9YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGN1cnJlbmN5VG90YWxDb3N0U2hvd0luY1RheChqb2I6IGFueSkge1xuICBjb25zdCB7IGN1cnJlbmN5LCB0YXhUeXBlLCB0b3RhbENvc3QgfSA9IGpvYjtcbiAgY29uc3QgY3VycmVuY3lPcHRpb25zID0ge2N1cnJlbmN5LCBzaG93Q29kZUlmTm9TeW1ib2w6IGZhbHNlfTtcbiAgY29uc3Qgd2l0aEN1cnJlbmN5ID0gZm9ybWF0Q3VycmVuY3koXG4gICAgdG90YWxDb3N0ID8gdG90YWxDb3N0IDogMCxcbiAgICBjdXJyZW5jeU9wdGlvbnNcbiAgKTtcbiAgcmV0dXJuIGAke2N1cnJlbmN5fSAke3dpdGhDdXJyZW5jeX0gJHtpbmNsdWRlc1RheCh0YXhUeXBlKX1gO1xufVxuIl0sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLElBQU1BLFdBQWdCLEdBQzNCO0VBQUNDLEdBQUcsRUFBRSxHQUFHO0VBQ1BDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxJQUFJO0VBQ1RDLEdBQUcsRUFBRSxLQUFLO0VBQ1ZDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxLQUFLO0VBQ1ZDLEdBQUcsRUFBRSxJQUFJO0VBQ1RDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxJQUFJO0VBQ1RDLEdBQUcsRUFBRSxJQUFJO0VBQ1RDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxJQUFJO0VBQ1RDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxJQUFJO0VBQ1RDLEdBQUcsRUFBRSxJQUFJO0VBQ1RDLEdBQUcsRUFBRSxLQUFLO0VBQ1ZDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxJQUFJO0VBQ1RDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxJQUFJO0VBQ1RDLEdBQUcsRUFBRSxJQUFJO0VBQ1RDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxJQUFJO0VBQ1RDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxLQUFLO0VBQ1ZDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxLQUFLO0VBQ1ZDLEdBQUcsRUFBRSxJQUFJO0VBQ1RDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxJQUFJO0VBQ1RDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxJQUFJO0VBQ1RDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxJQUFJO0VBQ1RDLEdBQUcsRUFBRSxLQUFLO0VBQ1ZDLEdBQUcsRUFBRSxJQUFJO0VBQ1RDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxJQUFJO0VBQ1RDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxJQUFJO0VBQ1RDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxJQUFJO0VBQ1RDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxLQUFLO0VBQ1ZDLEdBQUcsRUFBRSxJQUFJO0VBQ1RDLEdBQUcsRUFBRSxLQUFLO0VBQ1ZDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxJQUFJO0VBQ1RDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxLQUFLO0VBQ1ZDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxNQUFNO0VBQ1hDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxJQUFJO0VBQ1RDLEdBQUcsRUFBRSxLQUFLO0VBQ1ZDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxHQUFHO0VBQ1JDLEdBQUcsRUFBRSxLQUFLO0VBQ1ZDLEdBQUcsRUFBRSxLQUFLO0VBQ1ZDLEdBQUcsRUFBRSxHQUFH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