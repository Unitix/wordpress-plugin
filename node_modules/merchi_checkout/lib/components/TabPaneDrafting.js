'use client';

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }
function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : String(i); }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }
function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
import { useState } from 'react';
import TabPane from './TabPane';
import TitleStep from './TitleStep';
import FooterButtons from './FooterButtons';
import { tabIdDrafting } from '../tabs_utils';
import { useMerchiCheckboutContext } from './MerchiCheckoutProvider';
import MerchiImageEditor from './merchi_image_editor/MerchiImageEditor';
import InputFileUpload from './forms/InputFileUpload';
import { useForm } from 'react-hook-form';
import { jsx as _jsx } from "react/jsx-runtime";
import { Fragment as _Fragment } from "react/jsx-runtime";
import { jsxs as _jsxs } from "react/jsx-runtime";
function TabPaneDrafting() {
  var _useMerchiCheckboutCo = useMerchiCheckboutContext(),
    editDraftTemplate = _useMerchiCheckboutCo.editDraftTemplate,
    job = _useMerchiCheckboutCo.job,
    nextTab = _useMerchiCheckboutCo.nextTab,
    product = _useMerchiCheckboutCo.product,
    setJob = _useMerchiCheckboutCo.setJob,
    toggleMerchiCheckout = _useMerchiCheckboutCo.toggleMerchiCheckout;
  var allowClientDraftContribution = product.allowClientDraftContribution,
    _product$draftTemplat = product.draftTemplates,
    draftTemplates = _product$draftTemplat === void 0 ? [] : _product$draftTemplat;
  var clientFiles = job.clientFiles || [];
  var _useState = useState(0),
    _useState2 = _slicedToArray(_useState, 2),
    activeTemplateIndex = _useState2[0],
    setActiveTemplateIndex = _useState2[1];
  var templates = draftTemplates.map(function (template, index) {
    var ownDraftImages = job.ownDrafts && job.ownDrafts[0] && job.ownDrafts[0].images || [];
    var newTemplate = _objectSpread({}, template);
    newTemplate.file = ownDraftImages && ownDraftImages[index] || template.file;
    return newTemplate;
  });
  var setClientFiles = function setClientFiles(clientFiles) {
    setJob(_objectSpread(_objectSpread({}, job), {}, {
      clientFiles: clientFiles
    }));
  };
  function onClickNext() {
    if (allowClientDraftContribution && draftTemplates.length) {
      if (activeTemplateIndex === draftTemplates.length - 1) {
        nextTab();
      } else {
        setActiveTemplateIndex(activeTemplateIndex + 1);
      }
    } else {
      nextTab();
    }
  }
  function onClickBack() {
    if (activeTemplateIndex) {
      setActiveTemplateIndex(activeTemplateIndex - 1);
    } else {
      toggleMerchiCheckout();
    }
  }
  var _useForm = useForm({
      defaultValues: {
        clientFiles: ''
      }
    }),
    control = _useForm.control;
  return /*#__PURE__*/_jsxs(TabPane, {
    tabId: tabIdDrafting,
    children: [allowClientDraftContribution && draftTemplates.length ? /*#__PURE__*/_jsxs(_Fragment, {
      children: [/*#__PURE__*/_jsx(TitleStep, {
        title: "Customise"
      }), /*#__PURE__*/_jsx(MerchiImageEditor, {
        activeTemplateIndex: activeTemplateIndex,
        clientFiles: job.clientFiles || [],
        draftTemplates: templates,
        editDraftTemplate: editDraftTemplate,
        setClientFiles: setClientFiles,
        setActiveTemplateIndex: setActiveTemplateIndex
      })]
    }) : /*#__PURE__*/_jsxs(_Fragment, {
      children: [/*#__PURE__*/_jsx(TitleStep, {
        title: "Customise - Upload Files"
      }), /*#__PURE__*/_jsx(InputFileUpload, {
        control: control,
        name: "clientFiles",
        onFileUploaded: function onFileUploaded(clientFile) {
          return setClientFiles([].concat(_toConsumableArray(clientFiles), [{
            file: clientFile,
            id: 'id'
          }]));
        }
      })]
    }), /*#__PURE__*/_jsx(FooterButtons, {
      forceDisabled: false,
      isActive: true,
      onClickBack: onClickBack,
      onClickNext: onClickNext
    })]
  });
}
export default TabPaneDrafting;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdHlwZW9mIiwibyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIiLCJfYXJyYXlXaXRob3V0SG9sZXMiLCJfaXRlcmFibGVUb0FycmF5IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiX25vbkl0ZXJhYmxlU3ByZWFkIiwiVHlwZUVycm9yIiwiaXRlciIsIkFycmF5IiwiZnJvbSIsImlzQXJyYXkiLCJfYXJyYXlMaWtlVG9BcnJheSIsIm93bktleXMiLCJlIiwiciIsInQiLCJPYmplY3QiLCJrZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiZmlsdGVyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsInB1c2giLCJhcHBseSIsIl9vYmplY3RTcHJlYWQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJmb3JFYWNoIiwiX2RlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJkZWZpbmVQcm9wZXJ0eSIsIm9iaiIsImtleSIsInZhbHVlIiwiX3RvUHJvcGVydHlLZXkiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImkiLCJfdG9QcmltaXRpdmUiLCJTdHJpbmciLCJ0b1ByaW1pdGl2ZSIsImNhbGwiLCJOdW1iZXIiLCJfc2xpY2VkVG9BcnJheSIsIl9hcnJheVdpdGhIb2xlcyIsIl9pdGVyYWJsZVRvQXJyYXlMaW1pdCIsIl9ub25JdGVyYWJsZVJlc3QiLCJtaW5MZW4iLCJuIiwidG9TdHJpbmciLCJzbGljZSIsIm5hbWUiLCJ0ZXN0IiwibGVuIiwiYXJyMiIsImwiLCJ1IiwiYSIsImYiLCJuZXh0IiwiZG9uZSIsInVzZVN0YXRlIiwiVGFiUGFuZSIsIlRpdGxlU3RlcCIsIkZvb3RlckJ1dHRvbnMiLCJ0YWJJZERyYWZ0aW5nIiwidXNlTWVyY2hpQ2hlY2tib3V0Q29udGV4dCIsIk1lcmNoaUltYWdlRWRpdG9yIiwiSW5wdXRGaWxlVXBsb2FkIiwidXNlRm9ybSIsImpzeCIsIl9qc3giLCJGcmFnbWVudCIsIl9GcmFnbWVudCIsImpzeHMiLCJfanN4cyIsIlRhYlBhbmVEcmFmdGluZyIsIl91c2VNZXJjaGlDaGVja2JvdXRDbyIsImVkaXREcmFmdFRlbXBsYXRlIiwiam9iIiwibmV4dFRhYiIsInByb2R1Y3QiLCJzZXRKb2IiLCJ0b2dnbGVNZXJjaGlDaGVja291dCIsImFsbG93Q2xpZW50RHJhZnRDb250cmlidXRpb24iLCJfcHJvZHVjdCRkcmFmdFRlbXBsYXQiLCJkcmFmdFRlbXBsYXRlcyIsImNsaWVudEZpbGVzIiwiX3VzZVN0YXRlIiwiX3VzZVN0YXRlMiIsImFjdGl2ZVRlbXBsYXRlSW5kZXgiLCJzZXRBY3RpdmVUZW1wbGF0ZUluZGV4IiwidGVtcGxhdGVzIiwibWFwIiwidGVtcGxhdGUiLCJpbmRleCIsIm93bkRyYWZ0SW1hZ2VzIiwib3duRHJhZnRzIiwiaW1hZ2VzIiwibmV3VGVtcGxhdGUiLCJmaWxlIiwic2V0Q2xpZW50RmlsZXMiLCJvbkNsaWNrTmV4dCIsIm9uQ2xpY2tCYWNrIiwiX3VzZUZvcm0iLCJkZWZhdWx0VmFsdWVzIiwiY29udHJvbCIsInRhYklkIiwiY2hpbGRyZW4iLCJ0aXRsZSIsIm9uRmlsZVVwbG9hZGVkIiwiY2xpZW50RmlsZSIsImNvbmNhdCIsImlkIiwiZm9yY2VEaXNhYmxlZCIsImlzQWN0aXZlIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbXBvbmVudHMvVGFiUGFuZURyYWZ0aW5nLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBUYWJQYW5lIGZyb20gJy4vVGFiUGFuZSc7XG5pbXBvcnQgVGl0bGVTdGVwIGZyb20gJy4vVGl0bGVTdGVwJztcbmltcG9ydCBGb290ZXJCdXR0b25zIGZyb20gJy4vRm9vdGVyQnV0dG9ucyc7XG5pbXBvcnQgeyB0YWJJZERyYWZ0aW5nIH0gZnJvbSAnLi4vdGFic191dGlscyc7XG5pbXBvcnQgeyB1c2VNZXJjaGlDaGVja2JvdXRDb250ZXh0IH0gZnJvbSAnLi9NZXJjaGlDaGVja291dFByb3ZpZGVyJztcbmltcG9ydCBNZXJjaGlJbWFnZUVkaXRvciBmcm9tICcuL21lcmNoaV9pbWFnZV9lZGl0b3IvTWVyY2hpSW1hZ2VFZGl0b3InO1xuaW1wb3J0IElucHV0RmlsZVVwbG9hZCBmcm9tICcuL2Zvcm1zL0lucHV0RmlsZVVwbG9hZCc7XG5pbXBvcnQgeyB1c2VGb3JtIH0gZnJvbSAncmVhY3QtaG9vay1mb3JtJztcblxuZnVuY3Rpb24gVGFiUGFuZURyYWZ0aW5nKCkge1xuICBjb25zdCB7XG4gICAgZWRpdERyYWZ0VGVtcGxhdGUsXG4gICAgam9iLFxuICAgIG5leHRUYWIsXG4gICAgcHJvZHVjdCxcbiAgICBzZXRKb2IsXG4gICAgdG9nZ2xlTWVyY2hpQ2hlY2tvdXQsXG4gIH0gPSB1c2VNZXJjaGlDaGVja2JvdXRDb250ZXh0KCk7XG5cbiAgY29uc3QgeyBhbGxvd0NsaWVudERyYWZ0Q29udHJpYnV0aW9uLCBkcmFmdFRlbXBsYXRlcyA9IFtdIH0gPSBwcm9kdWN0O1xuICBjb25zdCBjbGllbnRGaWxlcyA9IGpvYi5jbGllbnRGaWxlcyB8fCBbXTtcbiAgY29uc3QgW2FjdGl2ZVRlbXBsYXRlSW5kZXgsIHNldEFjdGl2ZVRlbXBsYXRlSW5kZXhdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IHRlbXBsYXRlcyA9IGRyYWZ0VGVtcGxhdGVzLm1hcCgodGVtcGxhdGU6IGFueSwgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IG93bkRyYWZ0SW1hZ2VzID1cbiAgICAgIChqb2Iub3duRHJhZnRzICYmIGpvYi5vd25EcmFmdHNbMF0gJiYgam9iLm93bkRyYWZ0c1swXS5pbWFnZXMpIHx8IFtdO1xuICAgIGNvbnN0IG5ld1RlbXBsYXRlID0geyAuLi50ZW1wbGF0ZSB9O1xuICAgIG5ld1RlbXBsYXRlLmZpbGUgPVxuICAgICAgKG93bkRyYWZ0SW1hZ2VzICYmIG93bkRyYWZ0SW1hZ2VzW2luZGV4XSkgfHwgdGVtcGxhdGUuZmlsZTtcbiAgICByZXR1cm4gbmV3VGVtcGxhdGU7XG4gIH0pO1xuICBjb25zdCBzZXRDbGllbnRGaWxlcyA9IChjbGllbnRGaWxlczogYW55W10pID0+IHtcbiAgICBzZXRKb2IoeyAuLi5qb2IsIGNsaWVudEZpbGVzIH0pO1xuICB9O1xuICBmdW5jdGlvbiBvbkNsaWNrTmV4dCgpIHtcbiAgICBpZiAoYWxsb3dDbGllbnREcmFmdENvbnRyaWJ1dGlvbiAmJiBkcmFmdFRlbXBsYXRlcy5sZW5ndGgpIHtcbiAgICAgIGlmIChhY3RpdmVUZW1wbGF0ZUluZGV4ID09PSBkcmFmdFRlbXBsYXRlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgIG5leHRUYWIoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldEFjdGl2ZVRlbXBsYXRlSW5kZXgoYWN0aXZlVGVtcGxhdGVJbmRleCArIDEpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuZXh0VGFiKCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIG9uQ2xpY2tCYWNrKCkge1xuICAgIGlmIChhY3RpdmVUZW1wbGF0ZUluZGV4KSB7XG4gICAgICBzZXRBY3RpdmVUZW1wbGF0ZUluZGV4KGFjdGl2ZVRlbXBsYXRlSW5kZXggLSAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdG9nZ2xlTWVyY2hpQ2hlY2tvdXQoKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgeyBjb250cm9sIH0gPSB1c2VGb3JtKHsgZGVmYXVsdFZhbHVlczogeyBjbGllbnRGaWxlczogJycgfSB9KTtcbiAgcmV0dXJuIChcbiAgICA8VGFiUGFuZSB0YWJJZD17dGFiSWREcmFmdGluZ30+XG4gICAgICB7YWxsb3dDbGllbnREcmFmdENvbnRyaWJ1dGlvbiAmJiBkcmFmdFRlbXBsYXRlcy5sZW5ndGggPyAoXG4gICAgICAgIDw+XG4gICAgICAgICAgPFRpdGxlU3RlcCB0aXRsZT0nQ3VzdG9taXNlJyAvPlxuICAgICAgICAgIDxNZXJjaGlJbWFnZUVkaXRvclxuICAgICAgICAgICAgYWN0aXZlVGVtcGxhdGVJbmRleD17YWN0aXZlVGVtcGxhdGVJbmRleH1cbiAgICAgICAgICAgIGNsaWVudEZpbGVzPXtqb2IuY2xpZW50RmlsZXMgfHwgW119XG4gICAgICAgICAgICBkcmFmdFRlbXBsYXRlcz17dGVtcGxhdGVzfVxuICAgICAgICAgICAgZWRpdERyYWZ0VGVtcGxhdGU9e2VkaXREcmFmdFRlbXBsYXRlfVxuICAgICAgICAgICAgc2V0Q2xpZW50RmlsZXM9e3NldENsaWVudEZpbGVzfVxuICAgICAgICAgICAgc2V0QWN0aXZlVGVtcGxhdGVJbmRleD17c2V0QWN0aXZlVGVtcGxhdGVJbmRleH1cbiAgICAgICAgICAvPlxuICAgICAgICA8Lz5cbiAgICAgICkgOiAoXG4gICAgICAgIDw+XG4gICAgICAgICAgPFRpdGxlU3RlcCB0aXRsZT0nQ3VzdG9taXNlIC0gVXBsb2FkIEZpbGVzJyAvPlxuICAgICAgICAgIDxJbnB1dEZpbGVVcGxvYWRcbiAgICAgICAgICAgIGNvbnRyb2w9e2NvbnRyb2x9XG4gICAgICAgICAgICBuYW1lPSdjbGllbnRGaWxlcydcbiAgICAgICAgICAgIG9uRmlsZVVwbG9hZGVkPXsoY2xpZW50RmlsZTogYW55KSA9PlxuICAgICAgICAgICAgICBzZXRDbGllbnRGaWxlcyhbLi4uY2xpZW50RmlsZXMsIHsgZmlsZTogY2xpZW50RmlsZSwgaWQ6ICdpZCcgfV0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC8+XG4gICAgICApfVxuICAgICAgPEZvb3RlckJ1dHRvbnNcbiAgICAgICAgZm9yY2VEaXNhYmxlZD17ZmFsc2V9XG4gICAgICAgIGlzQWN0aXZlPXt0cnVlfVxuICAgICAgICBvbkNsaWNrQmFjaz17b25DbGlja0JhY2t9XG4gICAgICAgIG9uQ2xpY2tOZXh0PXtvbkNsaWNrTmV4dH1cbiAgICAgIC8+XG4gICAg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