export var currencyMap = {
  ALL: 'L',
  AFN: '؋',
  ARS: '$',
  AWG: 'ƒ',
  AUD: '$',
  AZN: '₼',
  BSD: '$',
  BBD: '$',
  BYR: 'p.',
  BZD: 'BZ$',
  BMD: '$',
  BOB: 'Bs.',
  BAM: 'KM',
  BWP: 'P',
  BGN: 'лв',
  BRL: 'R$',
  BND: '$',
  KHR: '៛',
  CAD: '$',
  KYD: '$',
  CLP: '$',
  CNY: '¥',
  COP: '$',
  CRC: '₡',
  HRK: 'kn',
  CUP: '₱',
  CZK: 'Kč',
  DKK: 'kr',
  DOP: 'RD$',
  XCD: '$',
  EGP: '£',
  SVC: '$',
  EEK: 'kr',
  EUR: '€',
  FKP: '£',
  FJD: '$',
  GHC: '₵',
  GIP: '£',
  GTQ: 'Q',
  GGP: '£',
  GYD: '$',
  HNL: 'L',
  HKD: '$',
  HUF: 'Ft',
  ISK: 'kr',
  INR: '₹',
  IDR: 'Rp',
  IRR: '﷼',
  IMP: '£',
  ILS: '₪',
  JMD: '`J$',
  JPY: '¥',
  JEP: '£',
  KES: 'KSh',
  KZT: 'лв',
  KPW: '₩',
  KRW: '₩',
  KGS: 'лв',
  LAK: '₭',
  LVL: 'Ls',
  LBP: '£',
  LRD: '$',
  LTL: 'Lt',
  MKD: 'ден',
  MYR: 'RM',
  MUR: '₨',
  MXN: '$',
  MNT: '₮',
  MZN: 'MT',
  NAD: '$',
  NPR: '₨',
  ANG: 'ƒ',
  NZD: '$',
  NIO: 'C$',
  NGN: '₦',
  NOK: 'kr',
  OMR: '﷼',
  PKR: '₨',
  PAB: 'B/.',
  PYG: 'Gs',
  PEN: 'S/.',
  PHP: '₱',
  PLN: 'zł',
  QAR: '﷼',
  RON: 'lei',
  RUB: '₽',
  RMB: '￥',
  SHP: '£',
  SAR: '﷼',
  RSD: 'Дин.',
  SCR: '₨',
  SGD: '$',
  SBD: '$',
  SOS: 'S',
  ZAR: 'R',
  LKR: '₨',
  SEK: 'kr',
  CHF: 'CHF',
  SRD: '$',
  SYP: '£',
  TZS: 'TSh',
  TWD: 'NT$',
  THB: '฿',
  TTD: 'TT$',
  TRY: '₺',
  TRL: '₤',
  TVD: '$',
  UGX: 'USh',
  UAH: '₴',
  GBP: '£',
  USD: '$',
  UYU: '$U',
  UZS: 'лв',
  VEF: 'Bs',
  VND: '₫',
  YER: '﷼',
  ZWD: 'Z$'
};
export function formatCurrency(amount, options) {
  /*
    *   Example usage:
             formatCurrency(-222.123456, {currency: 'EGP',
                                         showCodeIfNoSymbol: true,
                                         financialNegative: true,
                                         decimalPlaces: 3})
             --> '(£222.123)'
    */

  var symbol;
  var negative = false;
  var result;
  options = options || {};
  options.currency = options.currency || 'AUD';
  options.showCodeIfNoSymbol = options.showCodeIfNoSymbol || true;
  options.symbolAfterAmount = options.symbolAfterAmount || false;
  options.financialNegative = options.financialNegative || false;
  options.codeAfterSymbol = options.codeAfterSymbol || false;
  options.codeBeforeSymbol = options.codeBeforeSymbol || false;
  options.spaceBetweenSymbol = options.spaceBetweenSymbol || false;
  options.decimalPlaces = options.decimalPlaces || 2;
  options.decimalSeperator = options.decimalSeperator || '.';
  options.codeAfterAmount = options.codeAfterAmount || false;
  if (amount < 0.0) {
    negative = true;
    amount *= -1.0; // eslint-disable-line
  }
  if (Object.prototype.hasOwnProperty.call(currencyMap, options.currency)) {
    symbol = currencyMap[options.currency];
    if (options.codeAfterSymbol) {
      symbol += '(' + options.currency + ') ';
    }
    if (options.codeBeforeSymbol) {
      symbol = "(".concat(options.currency, ") ").concat(symbol);
    }
  } else if (options.showCodeIfNoSymbol) {
    symbol = options.currency;
  } else {
    symbol = '';
  }
  amount = amount.toFixed(options.decimalPlaces);
  amount = amount.replace('.', options.decimalSeperator);
  if (options.symbolAfterAmount) {
    result = amount;
    if (options.spaceBetweenSymbol) {
      result += ' ';
    }
    result += symbol;
  } else {
    result = symbol;
    if (options.spaceBetweenSymbol) {
      result += ' ';
    }
    result += amount;
  }
  if (negative) {
    if (options.financialNegative) {
      result = "(".concat(result, ")");
    } else {
      result = "-".concat(result);
    }
  }
  if (options.codeAfterAmount === true) {
    result += " (".concat(options.currency, ")");
  }
  return result;
}
function taxPercent(tax) {
  return tax ? "(".concat(tax.taxPercent, "%)") : '';
}
function includesTax(tax) {
  return tax && tax.taxPercent > 0 ? " inc ".concat(tax.taxName, " ").concat(taxPercent(tax)) : '';
}
export function calculateTotalWithTax(total, tax) {
  var taxMultiplier = 1.0;
  if (tax && tax.taxPercent > 0) {
    taxMultiplier += tax.taxPercent / 100;
    taxMultiplier = parseFloat(taxMultiplier.toFixed(2));
  }
  var grandTotal = total * taxMultiplier;
  return parseFloat(grandTotal.toFixed(2));
}
export function currencyTaxAndCost(currency, tax, theCost) {
  var currencyOptions = {
    currency: currency,
    showCodeIfNoSymbol: false
  };
  var totalCost = calculateTotalWithTax(theCost, tax);
  var withCurrency = formatCurrency(totalCost, currencyOptions);
  return "".concat(currency, " ").concat(withCurrency, " ").concat(includesTax(tax));
}
export function currencyTotalCostShowIncTax(job) {
  var currency = job.currency,
    taxType = job.taxType,
    totalCost = job.totalCost;
  var currencyOptions = {
    currency: currency,
    showCodeIfNoSymbol: false
  };
  var withCurrency = formatCurrency(totalCost ? totalCost : 0, currencyOptions);
  return "".concat(currency, " ").concat(withCurrency, " ").concat(includesTax(taxType));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjdXJyZW5jeU1hcCIsIkFMTCIsIkFGTiIsIkFSUyIsIkFXRyIsIkFVRCIsIkFaTiIsIkJTRCIsIkJCRCIsIkJZUiIsIkJaRCIsIkJNRCIsIkJPQiIsIkJBTSIsIkJXUCIsIkJHTiIsIkJSTCIsIkJORCIsIktIUiIsIkNBRCIsIktZRCIsIkNMUCIsIkNOWSIsIkNPUCIsIkNSQyIsIkhSSyIsIkNVUCIsIkNaSyIsIkRLSyIsIkRPUCIsIlhDRCIsIkVHUCIsIlNWQyIsIkVFSyIsIkVVUiIsIkZLUCIsIkZKRCIsIkdIQyIsIkdJUCIsIkdUUSIsIkdHUCIsIkdZRCIsIkhOTCIsIkhLRCIsIkhVRiIsIklTSyIsIklOUiIsIklEUiIsIklSUiIsIklNUCIsIklMUyIsIkpNRCIsIkpQWSIsIkpFUCIsIktFUyIsIktaVCIsIktQVyIsIktSVyIsIktHUyIsIkxBSyIsIkxWTCIsIkxCUCIsIkxSRCIsIkxUTCIsIk1LRCIsIk1ZUiIsIk1VUiIsIk1YTiIsIk1OVCIsIk1aTiIsIk5BRCIsIk5QUiIsIkFORyIsIk5aRCIsIk5JTyIsIk5HTiIsIk5PSyIsIk9NUiIsIlBLUiIsIlBBQiIsIlBZRyIsIlBFTiIsIlBIUCIsIlBMTiIsIlFBUiIsIlJPTiIsIlJVQiIsIlJNQiIsIlNIUCIsIlNBUiIsIlJTRCIsIlNDUiIsIlNHRCIsIlNCRCIsIlNPUyIsIlpBUiIsIkxLUiIsIlNFSyIsIkNIRiIsIlNSRCIsIlNZUCIsIlRaUyIsIlRXRCIsIlRIQiIsIlRURCIsIlRSWSIsIlRSTCIsIlRWRCIsIlVHWCIsIlVBSCIsIkdCUCIsIlVTRCIsIlVZVSIsIlVaUyIsIlZFRiIsIlZORCIsIllFUiIsIlpXRCIsImZvcm1hdEN1cnJlbmN5IiwiYW1vdW50Iiwib3B0aW9ucyIsInN5bWJvbCIsIm5lZ2F0aXZlIiwicmVzdWx0IiwiY3VycmVuY3kiLCJzaG93Q29kZUlmTm9TeW1ib2wiLCJzeW1ib2xBZnRlckFtb3VudCIsImZpbmFuY2lhbE5lZ2F0aXZlIiwiY29kZUFmdGVyU3ltYm9sIiwiY29kZUJlZm9yZVN5bWJvbCIsInNwYWNlQmV0d2VlblN5bWJvbCIsImRlY2ltYWxQbGFjZXMiLCJkZWNpbWFsU2VwZXJhdG9yIiwiY29kZUFmdGVyQW1vdW50IiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiY29uY2F0IiwidG9GaXhlZCIsInJlcGxhY2UiLCJ0YXhQZXJjZW50IiwidGF4IiwiaW5jbHVkZXNUYXgiLCJ0YXhOYW1lIiwiY2FsY3VsYXRlVG90YWxXaXRoVGF4IiwidG90YWwiLCJ0YXhNdWx0aXBsaWVyIiwicGFyc2VGbG9hdCIsImdyYW5kVG90YWwiLCJjdXJyZW5jeVRheEFuZENvc3QiLCJ0aGVDb3N0IiwiY3VycmVuY3lPcHRpb25zIiwidG90YWxDb3N0Iiwid2l0aEN1cnJlbmN5IiwiY3VycmVuY3lUb3RhbENvc3RTaG93SW5jVGF4Iiwiam9iIiwidGF4VHlwZSJdLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb21wb25lbnRzL2N1cnJlbmN5LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBjdXJyZW5jeU1hcDogYW55ID1cbiAge0FMTDogJ0wnLFxuICAgIEFGTjogJ9iLJyxcbiAgICBBUlM6ICckJyxcbiAgICBBV0c6ICfGkicsXG4gICAgQVVEOiAnJCcsXG4gICAgQVpOOiAn4oK8JyxcbiAgICBCU0Q6ICckJyxcbiAgICBCQkQ6ICckJyxcbiAgICBCWVI6ICdwLicsXG4gICAgQlpEOiAnQlokJyxcbiAgICBCTUQ6ICckJyxcbiAgICBCT0I6ICdCcy4nLFxuICAgIEJBTTogJ0tNJyxcbiAgICBCV1A6ICdQJyxcbiAgICBCR046ICfQu9CyJyxcbiAgICBCUkw6ICdSJCcsXG4gICAgQk5EOiAnJCcsXG4gICAgS0hSOiAn4Z+bJyxcbiAgICBDQUQ6ICckJyxcbiAgICBLWUQ6ICckJyxcbiAgICBDTFA6ICckJyxcbiAgICBDTlk6ICfCpScsXG4gICAgQ09QOiAnJCcsXG4gICAgQ1JDOiAn4oKhJyxcbiAgICBIUks6ICdrbicsXG4gICAgQ1VQOiAn4oKxJyxcbiAgICBDWks6ICdLxI0nLFxuICAgIERLSzogJ2tyJyxcbiAgICBET1A6ICdSRCQnLFxuICAgIFhDRDogJyQnLFxuICAgIEVHUDogJ8KjJyxcbiAgICBTVkM6ICckJyxcbiAgICBFRUs6ICdrcicsXG4gICAgRVVSOiAn4oKsJyxcbiAgICBGS1A6ICfCoycsXG4gICAgRkpEOiAnJCcsXG4gICAgR0hDOiAn4oK1JyxcbiAgICBHSVA6ICfCoycsXG4gICAgR1RROiAnUScsXG4gICAgR0dQOiAnwqMnLFxuICAgIEdZRDogJyQnLFxuICAgIEhOTDogJ0wnLFxuICAgIEhLRDogJyQnLFxuICAgIEhVRjogJ0Z0JyxcbiAgICBJU0s6ICdrcicsXG4gICAgSU5SOiAn4oK5JyxcbiAgICBJRFI6ICdScCcsXG4gICAgSVJSOiAn77e8JyxcbiAgICBJTVA6ICfCoycsXG4gICAgSUxTOiAn4oKqJyxcbiAgICBKTUQ6ICdgSiQnLFxuICAgIEpQWTogJ8KlJyxcbiAgICBKRVA6ICfCoycsXG4gICAgS0VTOiAnS1NoJyxcbiAgICBLWlQ6ICfQu9CyJyxcbiAgICBLUFc6ICfigqknLFxuICAgIEtSVzogJ+KCqScsXG4gICAgS0dTOiAn0LvQsicsXG4gICAgTEFLOiAn4oKtJyxcbiAgICBMVkw6ICdMcycsXG4gICAgTEJQOiAnwqMnLFxuICAgIExSRDogJyQnLFxuICAgIExUTDogJ0x0JyxcbiAgICBNS0Q6ICfQtNC10L0nLFxuICAgIE1ZUjogJ1JNJyxcbiAgICBNVVI6ICfigqgnLFxuICAgIE1YTjogJyQnLFxuICAgIE1OVDogJ+KCricsXG4gICAgTVpOOiAnTVQnLFxuICAgIE5BRDogJyQnLFxuICAgIE5QUjogJ+KCqCcsXG4gICAgQU5HOiAnxpInLFxuICAgIE5aRDogJyQnLFxuICAgIE5JTzogJ0MkJyxcbiAgICBOR046ICfigqYnLFxuICAgIE5PSzogJ2tyJyxcbiAgICBPTVI6ICfvt7wnLFxuICAgIFBLUjogJ+KCqCcsXG4gICAgUEFCOiAnQi8uJyxcbiAgICBQWUc6ICdHcycsXG4gICAgUEVOOiAnUy8uJyxcbiAgICBQSFA6ICfigrEnLFxuICAgIFBMTjogJ3rFgicsXG4gICAgUUFSOiAn77e8JyxcbiAgICBST046ICdsZWknLFxuICAgIFJVQjogJ+KCvScsXG4gICAgUk1COiAn77+lJyxcbiAgICBTSFA6ICfCoycsXG4gICAgU0FSOiAn77e8JyxcbiAgICBSU0Q6ICfQlNC40L0uJyxcbiAgICBTQ1I6ICfigqgnLFxuICAgIFNHRDogJyQnLFxuICAgIFNCRDogJyQnLFxuICAgIFNPUzogJ1MnLFxuICAgIFpBUjogJ1InLFxuICAgIExLUjogJ+KCqCcsXG4gICAgU0VLOiAna3InLFxuICAgIENIRjogJ0NIRicsXG4gICAgU1JEOiAnJCcsXG4gICAgU1lQOiAnwqMnLFxuICAgIFRaUzogJ1RTaCcsXG4gICAgVFdEOiAnTlQkJyxcbiAgICBUSEI6ICfguL8nLFxuICAgIFRURDogJ1RUJCcsXG4gICAgVFJZOiAn4oK6JyxcbiAgICBUUkw6ICfigqQnLFxuICAgIFRWRDogJyQnLFxuICAgIFVHWDogJ1VTaCcsXG4gICAgVUFIOiAn4oK0JyxcbiAgICBHQlA6ICfCoycsXG4gICAgVVNEOiAnJCcsXG4gICAgVVlVOiAnJFUnLFxuICAgIFVaUzogJ9C70LInLFxuICAgIFZFRjogJ0JzJyxcbiAgICBWTkQ6ICfigqsnLFxuICAgIFlFUjogJ++3vCcsXG4gICAgWldEOiAnWiQnfTtcblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdEN1cnJlbmN5KGFtb3VudDogYW55LCBvcHRpb25zOiBhbnkpIHtcbiAgLypcbiAgICAqICAgRXhhbXBsZSB1c2FnZTpcblxuICAgICAgICAgICAgZm9ybWF0Q3VycmVuY3koLTIyMi4xMjM0NTYsIHtjdXJyZW5jeTogJ0VHUCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb2RlSWZOb1N5bWJvbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYW5jaWFsTmVnYXRpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY2ltYWxQbGFjZXM6IDN9KVxuXG4gICAgICAgICAgICAtLT4gJyjCozIyMi4xMjMpJ1xuICAgICovXG5cbiAgbGV0IHN5bWJvbDtcbiAgbGV0IG5lZ2F0aXZlID0gZmFsc2U7XG4gIGxldCByZXN1bHQ7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBvcHRpb25zLmN1cnJlbmN5ID0gb3B0aW9ucy5jdXJyZW5jeSB8fCAnQVVEJztcbiAgb3B0aW9ucy5zaG93Q29kZUlmTm9TeW1ib2wgPSBvcHRpb25zLnNob3dDb2RlSWZOb1N5bWJvbCB8fCB0cnVlO1xuICBvcHRpb25zLnN5bWJvbEFmdGVyQW1vdW50ID0gb3B0aW9ucy5zeW1ib2xBZnRlckFtb3VudCB8fCBmYWxzZTtcbiAgb3B0aW9ucy5maW5hbmNpYWxOZWdhdGl2ZSA9IG9wdGlvbnMuZmluYW5jaWFsTmVnYXRpdmUgfHwgZmFsc2U7XG4gIG9wdGlvbnMuY29kZUFmdGVyU3ltYm9sID0gb3B0aW9ucy5jb2RlQWZ0ZXJTeW1ib2wgfHwgZmFsc2U7XG4gIG9wdGlvbnMuY29kZUJlZm9yZVN5bWJvbCA9IG9wdGlvbnMuY29kZUJlZm9yZVN5bWJvbCB8fCBmYWxzZTtcbiAgb3B0aW9ucy5zcGFjZUJldHdlZW5TeW1ib2wgPSBvcHRpb25zLnNwYWNlQmV0d2VlblN5bWJvbCB8fCBmYWxzZTtcbiAgb3B0aW9ucy5kZWNpbWFsUGxhY2VzID0gb3B0aW9ucy5kZWNpbWFsUGxhY2VzIHx8IDI7XG4gIG9wdGlvbnMuZGVjaW1hbFNlcGVyYXRvciA9IG9wdGlvbnMuZGVjaW1hbFNlcGVyYXRvciB8fCAnLic7XG4gIG9wdGlvbnMuY29kZUFmdGVyQW1vdW50ID0gb3B0aW9ucy5jb2RlQWZ0ZXJBbW91bnQgfHwgZmFsc2U7XG4gIGlmIChhbW91bnQgPCAwLjApIHtcbiAgICBuZWdhdGl2ZSA9IHRydWU7XG4gICAgICAgIGFtb3VudCAqPSAtMS4wOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIH1cbiAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjdXJyZW5jeU1hcCwgb3B0aW9ucy5jdXJyZW5jeSkpIHtcbiAgICBzeW1ib2wgPSBjdXJyZW5jeU1hcFtvcHRpb25zLmN1cnJlbmN5XTtcbiAgICBpZiAob3B0aW9ucy5jb2RlQWZ0ZXJTeW1ib2wpIHtcbiAgICAgIHN5bWJvbCArPSAnKCcgKyBvcHRpb25zLmN1cnJlbmN5ICsgJykgJztcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuY29kZUJlZm9yZVN5bWJvbCkge1xuICAgICAgc3ltYm9sID0gYCgke29wdGlvbnMuY3VycmVuY3l9KSAke3N5bWJvbH1gO1xuICAgIH1cbiAgfSBlbHNlIGlmIChvcHRpb25zLnNob3dDb2RlSWZOb1N5bWJvbCkge1xuICAgIHN5bWJvbCA9IG9wdGlvbnMuY3VycmVuY3k7XG4gIH0gZWxzZSB7XG4gICAgc3ltYm9sID0gJyc7XG4gIH1cbiAgICBhbW91bnQgPSBhbW91bnQudG9GaXhlZChvcHRpb25zLmRlY2ltYWxQbGFjZXMpO1xuICAgIGFtb3VudCA9IGFtb3VudC5yZXBsYWNlKCcuJywgb3B0aW9ucy5kZWNpbWFsU2VwZXJhdG9yKTtcbiAgaWYgKG9wdGlvbnMuc3ltYm9sQWZ0ZXJBbW91bnQpIHtcbiAgICByZXN1bHQgPSBhbW91bnQ7XG4gICAgaWYgKG9wdGlvbnMuc3BhY2VCZXR3ZWVuU3ltYm9sKSB7XG4gICAgICByZXN1bHQgKz0gJyAnO1xuICAgIH1cbiAgICByZXN1bHQgKz0gc3ltYm9sO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9IHN5bWJvbDtcbiAgICBpZiAob3B0aW9ucy5zcGFjZUJldHdlZW5TeW1ib2wpIHtcbiAgICAgIHJlc3VsdCArPSAnICc7XG4gICAgfVxuICAgIHJlc3VsdCArPSBhbW91bnQ7XG4gIH1cbiAgaWYgKG5lZ2F0aXZlKSB7XG4gICAgaWYgKG9wdGlvbnMuZmluYW5jaWFsTmVnYXRpdmUpIHtcbiAgICAgIHJlc3VsdCA9IGAoJHtyZXN1bHR9KWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IGAtJHtyZXN1bHR9YDtcbiAgICB9XG4gIH1cbiAgaWYgKG9wdGlvbnMuY29kZUFmdGVyQW1vdW50ID09PSB0cnVlKSB7XG4gICAgcmVzdWx0ICs9IGAgKCR7b3B0aW9ucy5jdXJyZW5jeX0pYDtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiB0YXhQZXJjZW50KHRheDogYW55KSB7XG4gIHJldHVybiB0YXggPyBgKCR7dGF4LnRheFBlcmNlbnR9JSlgIDogJyc7XG59XG5cbmZ1bmN0aW9uIGluY2x1ZGVzVGF4KHRheDogYW55KSB7XG4gIHJldHVybiB0YXggJiYgdGF4LnRheFBlcmNlbnQgPiAwID9cbiAgICBgIGluYyAke3RheC50YXhOYW1lfSAke3RheFBlcmNlbnQodGF4KX1gIDogJyc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVUb3RhbFdpdGhUYXgodG90YWw6IG51bWJlciwgdGF4OiBhbnkpIHtcbiAgbGV0IHRheE11bHRpcGxpZXIgPSAxLjA7XG4gIGlmICh0YXggJiYgdGF4LnRheFBlcmNlbnQgPiAwKSB7XG4gICAgdGF4TXVsdGlwbGllciArPSB0YXgudGF4UGVyY2VudCAvIDEwMDtcbiAgICB0YXhNdWx0aXBsaWVyID0gcGFyc2VGbG9hdCh0YXhNdWx0aXBsaWVyLnRvRml4ZWQoMikpO1xuICB9XG4gIGxldCBncmFuZFRvdGFsID0gdG90YWwgKiB0YXhNdWx0aXBsaWVyO1xuICByZXR1cm4gcGFyc2VGbG9hdChncmFuZFRvdGFsLnRvRml4ZWQoMikpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3VycmVuY3lUYXhBbmRDb3N0KGN1cnJlbmN5OiBzdHJpbmcsIHRheDogYW55LCB0aGVDb3N0OiBudW1iZXIpIHtcbiAgY29uc3QgY3VycmVuY3lPcHRpb25zID0ge2N1cnJlbmN5OiBjdXJyZW5jeSwgc2hvd0NvZGVJZk5vU3ltYm9sOiBmYWxzZX07XG4gIGNvbnN0IHRvdGFsQ29zdCA9IGNhbGN1bGF0ZVRvdGFsV2l0aFRheCh0aGVDb3N0LCB0YXgpO1xuICBjb25zdCB3aXRoQ3VycmVuY3kgPSBmb3JtYXRDdXJyZW5jeSh0b3RhbENvc3QsIGN1cnJlbmN5T3B0aW9ucyk7XG4gIHJldHVybiBgJHtjdXJyZW5jeX0gJHt3aXRoQ3VycmVuY3l9ICR7aW5jbHVkZXNUYXgodGF4KX1gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3VycmVuY3lUb3RhbENvc3RTaG93SW5jVGF4KGpvYjogYW55KSB7XG4gIGNvbnN0IHsgY3VycmVuY3ksIHRheFR5cGUsIHRvdGFsQ29zdCB9ID0gam9iO1xuICBjb25zdCBjdXJyZW5jeU9wdGlvbnMgPSB7Y3VycmVuY3ksIHNob3dDb2RlSWZOb1N5bWJvbDogZmFsc2V9O1xuICBjb25zdCB3aXRoQ3VycmVuY3kgPSBmb3JtYXRDdXJyZW5jeShcbiAgICB0b3RhbENvc3QgPyB0b3RhbENvc3QgOiAwLFxuICAgIGN1cnJlbmN5T3B0aW9uc1xuICApO1xuICByZXR1cm4gYCR7Y3VycmVuY3l9ICR7d2l0aEN1cnJlbmN5fSAke2luY2x1ZGVzVGF4KHRheFR5cGUpfWA7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sSUFBTUEsV0FBZ0IsR0FDM0I7RUFBQ0MsR0FBRyxFQUFFLEdBQUc7RUFDUEMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLElBQUk7RUFDVEMsR0FBRyxFQUFFLEtBQUs7RUFDVkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEtBQUs7RUFDVkMsR0FBRyxFQUFFLElBQUk7RUFDVEMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLElBQUk7RUFDVEMsR0FBRyxFQUFFLElBQUk7RUFDVEMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLElBQUk7RUFDVEMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLElBQUk7RUFDVEMsR0FBRyxFQUFFLElBQUk7RUFDVEMsR0FBRyxFQUFFLEtBQUs7RUFDVkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLElBQUk7RUFDVEMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLElBQUk7RUFDVEMsR0FBRyxFQUFFLElBQUk7RUFDVEMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLElBQUk7RUFDVEMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEtBQUs7RUFDVkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEtBQUs7RUFDVkMsR0FBRyxFQUFFLElBQUk7RUFDVEMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLElBQUk7RUFDVEMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLElBQUk7RUFDVEMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLElBQUk7RUFDVEMsR0FBRyxFQUFFLEtBQUs7RUFDVkMsR0FBRyxFQUFFLElBQUk7RUFDVEMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLElBQUk7RUFDVEMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLElBQUk7RUFDVEMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLElBQUk7RUFDVEMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEtBQUs7RUFDVkMsR0FBRyxFQUFFLElBQUk7RUFDVEMsR0FBRyxFQUFFLEtBQUs7RUFDVkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLElBQUk7RUFDVEMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEtBQUs7RUFDVkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLE1BQU07RUFDWEMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLElBQUk7RUFDVEMsR0FBRyxFQUFFLEtBQUs7RUFDVkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEdBQUc7RUFDUkMsR0FBRyxFQUFFLEtBQUs7RUFDVkMsR0FBRyxFQUFFLEtBQUs7RUFDVkMs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