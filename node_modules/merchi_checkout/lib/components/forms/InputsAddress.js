'use client';

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : String(i); }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }
function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
import { useEffect, useRef } from 'react';
import Geosuggest from 'react-geosuggest';
import { CountryDropdown, RegionDropdown } from 'react-country-region-selector';
import { Controller } from 'react-hook-form';
import InputText from './InputText';
import { useMerchiCheckboutContext } from '../MerchiCheckoutProvider';
import { addressInOneLine, geoSuggestResultAsNewAddress } from '../../utils';
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';
import { faTimes, faEdit, faExclamationTriangle } from '@fortawesome/free-solid-svg-icons';
import { useState } from 'react';
import Collapse from '../Collapse';
import { jsx as _jsx } from "react/jsx-runtime";
import { jsxs as _jsxs } from "react/jsx-runtime";
import { Fragment as _Fragment } from "react/jsx-runtime";
export function InputsAddress(_ref) {
  var _ref$defaultAddress = _ref.defaultAddress,
    defaultAddress = _ref$defaultAddress === void 0 ? {} : _ref$defaultAddress,
    _ref$labelGeoSuggest = _ref.labelGeoSuggest,
    labelGeoSuggest = _ref$labelGeoSuggest === void 0 ? 'Address' : _ref$labelGeoSuggest,
    hookForm = _ref.hookForm,
    name = _ref.name,
    _ref$placeholder = _ref.placeholder,
    placeholder = _ref$placeholder === void 0 ? 'Search your address' : _ref$placeholder,
    updateAddress = _ref.updateAddress;
  var geosuggestEl = useRef(null);
  var _useMerchiCheckboutCo = useMerchiCheckboutContext(),
    googlePlacesLoaded = _useMerchiCheckboutCo.googlePlacesLoaded,
    classNameMerchiCheckoutFormGroup = _useMerchiCheckboutCo.classNameMerchiCheckoutFormGroup,
    classNameMerchiCheckoutFormInput = _useMerchiCheckboutCo.classNameMerchiCheckoutFormInput,
    classNameMerchiCheckoutRow = _useMerchiCheckboutCo.classNameMerchiCheckoutRow,
    classNameMerchiCheckoutRowColumn = _useMerchiCheckboutCo.classNameMerchiCheckoutRowColumn,
    classNameMerchiCheckoutGoogleSuggestList = _useMerchiCheckboutCo.classNameMerchiCheckoutGoogleSuggestList,
    classNameMerchiCheckoutGoogleSuggestListItem = _useMerchiCheckboutCo.classNameMerchiCheckoutGoogleSuggestListItem;
  var control = hookForm.control,
    _hookForm$formState = hookForm.formState,
    errors = _hookForm$formState.errors,
    isValid = _hookForm$formState.isValid,
    submitCount = _hookForm$formState.submitCount,
    setValue = hookForm.setValue,
    getValues = hookForm.getValues;
  var inputName = function inputName(_name) {
    return "".concat(name ? "".concat(name, ".") : '').concat(_name);
  };
  function onSuggestSelect(suggest) {
    if (suggest) {
      updateAddress(geoSuggestResultAsNewAddress(suggest));
    } else {
      updateAddress({
        city: '',
        country: '',
        lineOne: '',
        lineTwo: '',
        postcode: '',
        state: ''
      });
    }
    geosuggestEl.current.blur();
  }
  function onChangeCountryState() {
    var addr = getValues();
    updateAddress(addr[name]);
  }
  var _useState = useState(false),
    _useState2 = _slicedToArray(_useState, 2),
    addressFieldsOpen = _useState2[0],
    setAddressFieldsOpen = _useState2[1];
  var toggleAddressFieldsOpen = function toggleAddressFieldsOpen() {
    return setAddressFieldsOpen(!addressFieldsOpen);
  };
  useEffect(function () {
    if (!isValid && !addressFieldsOpen && submitCount > 0) {
      toggleAddressFieldsOpen();
    }
  }, [isValid, submitCount]);
  var addressForm = /*#__PURE__*/_jsxs(_Fragment, {
    children: [/*#__PURE__*/_jsx(InputText, {
      control: control,
      label: "Address line one",
      name: inputName("lineOne"),
      placeholder: "123 Fake st",
      rules: {
        required: 'Address line one is required.'
      }
    }), /*#__PURE__*/_jsx(InputText, {
      control: control,
      label: "Continue address",
      name: inputName("lineTwo"),
      placeholder: "Continue address..."
    }), /*#__PURE__*/_jsxs("div", {
      className: classNameMerchiCheckoutRow,
      children: [/*#__PURE__*/_jsx("div", {
        className: classNameMerchiCheckoutRowColumn,
        children: /*#__PURE__*/_jsx(InputText, {
          control: control,
          label: "City / Province",
          name: inputName("city"),
          placeholder: "City",
          rules: {
            required: 'City / Province is required.'
          }
        })
      }), /*#__PURE__*/_jsx("div", {
        className: classNameMerchiCheckoutRowColumn,
        children: /*#__PURE__*/_jsx(InputText, {
          control: control,
          label: "Post / Zip code",
          name: inputName("postcode"),
          placeholder: "90210"
        })
      })]
    }), /*#__PURE__*/_jsxs("div", {
      className: classNameMerchiCheckoutRow,
      children: [/*#__PURE__*/_jsx("div", {
        className: classNameMerchiCheckoutRowColumn,
        children: /*#__PURE__*/_jsxs("div", {
          className: classNameMerchiCheckoutFormGroup,
          children: [/*#__PURE__*/_jsx("label", {
            children: "Country"
          }), /*#__PURE__*/_jsx(Controller, {
            name: inputName("country"),
            control: control,
            defaultValue: defaultAddress && defaultAddress.country,
            render: function render(_ref2) {
              var field = _ref2.field;
              return /*#__PURE__*/_jsx(CountryDropdown, _objectSpread(_objectSpread({}, field), {}, {
                // value={defaultAddress && defaultAddress.country}
                classes: classNameMerchiCheckoutFormInput,
                onChange: function onChange(val) {
                  setValue(inputName("country"), val);
                  field.onChange(val);
                  onChangeCountryState();
                },
                valueType: "short"
              }));
            }
          })]
        })
      }), /*#__PURE__*/_jsx("div", {
        className: classNameMerchiCheckoutRowColumn,
        children: /*#__PURE__*/_jsxs("div", {
          className: classNameMerchiCheckoutFormGroup,
          children: [/*#__PURE__*/_jsx("label", {
            children: "State / Region"
          }), /*#__PURE__*/_jsx(Controller, {
            name: inputName("state"),
            control: control,
            defaultValue: defaultAddress && defaultAddress.state,
            render: function render(_ref3) {
              var field = _ref3.field;
              return /*#__PURE__*/_jsx(RegionDropdown, _objectSpread(_objectSpread({}, field), {}, {
                // value={defaultAddress && defaultAddress.state}
                countryValueType: "short",
                country: getValues(inputName("country")),
                classes: classNameMerchiCheckoutFormInput,
                onChange: function onChange(val) {
                  setValue(inputName("state"), val);
                  field.onChange(val);
                  onChangeCountryState();
                },
                valueType: "short"
              }));
            }
          })]
        })
      })]
    })]
  });
  return /*#__PURE__*/_jsx(_Fragment, {
    children: googlePlacesLoaded ? /*#__PURE__*/_jsxs(_Fragment, {
      children: [/*#__PURE__*/_jsxs("div", {
        className: classNameMerchiCheckoutFormGroup,
        children: [/*#__PURE__*/_jsx("label", {
          children: labelGeoSuggest
        }), /*#__PURE__*/_jsx(Geosuggest, {
          ref: geosuggestEl,
          style: {
            input: {
              '::placeholder': {
                color: '#525f7f'
              }
            }
          },
          initialValue: addressInOneLine(defaultAddress),
          inputClassName: classNameMerchiCheckoutFormInput,
          onSuggestSelect: onSuggestSelect,
          placeholder: placeholder,
          suggestsClassName: classNameMerchiCheckoutGoogleSuggestList,
          suggestItemClassName: classNameMerchiCheckoutGoogleSuggestListItem,
          types: ['establishment', 'geocode']
        })]
      }), /*#__PURE__*/_jsx(Collapse, {
        isOpen: addressFieldsOpen,
        children: addressForm
      }), /*#__PURE__*/_jsxs("div", {
        className: "d-flex align-items-center",
        children: [!!errors.length && /*#__PURE__*/_jsxs("div", {
          className: "text-danger",
          children: [/*#__PURE__*/_jsx(FontAwesomeIcon, {
            icon: faExclamationTriangle
          }), " Invalid address!"]
        }), /*#__PURE__*/_jsxs("a", {
          className: "ml-auto btn btn-sm btn-link ".concat(!!errors.length && 'text-danger'),
          onClick: toggleAddressFieldsOpen,
          children: [/*#__PURE__*/_jsx(FontAwesomeIcon, {
            icon: addressFieldsOpen ? faTimes : faEdit
          }), " ", addressFieldsOpen ? 'Close' : 'Edit fields']
        })]
      })]
    }) : addressForm
  });
}
export default InputsAddress;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdHlwZW9mIiwibyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJvd25LZXlzIiwiZSIsInIiLCJ0IiwiT2JqZWN0Iiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImZpbHRlciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiZm9yRWFjaCIsIl9kZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVmaW5lUHJvcGVydHkiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsIl90b1Byb3BlcnR5S2V5IiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJpIiwiX3RvUHJpbWl0aXZlIiwiU3RyaW5nIiwidG9QcmltaXRpdmUiLCJjYWxsIiwiVHlwZUVycm9yIiwiTnVtYmVyIiwiX3NsaWNlZFRvQXJyYXkiLCJhcnIiLCJfYXJyYXlXaXRoSG9sZXMiLCJfaXRlcmFibGVUb0FycmF5TGltaXQiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJfbm9uSXRlcmFibGVSZXN0IiwibWluTGVuIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJuIiwidG9TdHJpbmciLCJzbGljZSIsIm5hbWUiLCJBcnJheSIsImZyb20iLCJ0ZXN0IiwibGVuIiwiYXJyMiIsImwiLCJ1IiwiYSIsImYiLCJuZXh0IiwiZG9uZSIsImlzQXJyYXkiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJHZW9zdWdnZXN0IiwiQ291bnRyeURyb3Bkb3duIiwiUmVnaW9uRHJvcGRvd24iLCJDb250cm9sbGVyIiwiSW5wdXRUZXh0IiwidXNlTWVyY2hpQ2hlY2tib3V0Q29udGV4dCIsImFkZHJlc3NJbk9uZUxpbmUiLCJnZW9TdWdnZXN0UmVzdWx0QXNOZXdBZGRyZXNzIiwiRm9udEF3ZXNvbWVJY29uIiwiZmFUaW1lcyIsImZhRWRpdCIsImZhRXhjbGFtYXRpb25UcmlhbmdsZSIsInVzZVN0YXRlIiwiQ29sbGFwc2UiLCJqc3giLCJfanN4IiwianN4cyIsIl9qc3hzIiwiRnJhZ21lbnQiLCJfRnJhZ21lbnQiLCJJbnB1dHNBZGRyZXNzIiwiX3JlZiIsIl9yZWYkZGVmYXVsdEFkZHJlc3MiLCJkZWZhdWx0QWRkcmVzcyIsIl9yZWYkbGFiZWxHZW9TdWdnZXN0IiwibGFiZWxHZW9TdWdnZXN0IiwiaG9va0Zvcm0iLCJfcmVmJHBsYWNlaG9sZGVyIiwicGxhY2Vob2xkZXIiLCJ1cGRhdGVBZGRyZXNzIiwiZ2Vvc3VnZ2VzdEVsIiwiX3VzZU1lcmNoaUNoZWNrYm91dENvIiwiZ29vZ2xlUGxhY2VzTG9hZGVkIiwiY2xhc3NOYW1lTWVyY2hpQ2hlY2tvdXRGb3JtR3JvdXAiLCJjbGFzc05hbWVNZXJjaGlDaGVja291dEZvcm1JbnB1dCIsImNsYXNzTmFtZU1lcmNoaUNoZWNrb3V0Um93IiwiY2xhc3NOYW1lTWVyY2hpQ2hlY2tvdXRSb3dDb2x1bW4iLCJjbGFzc05hbWVNZXJjaGlDaGVja291dEdvb2dsZVN1Z2dlc3RMaXN0IiwiY2xhc3NOYW1lTWVyY2hpQ2hlY2tvdXRHb29nbGVTdWdnZXN0TGlzdEl0ZW0iLCJjb250cm9sIiwiX2hvb2tGb3JtJGZvcm1TdGF0ZSIsImZvcm1TdGF0ZSIsImVycm9ycyIsImlzVmFsaWQiLCJzdWJtaXRDb3VudCIsInNldFZhbHVlIiwiZ2V0VmFsdWVzIiwiaW5wdXROYW1lIiwiX25hbWUiLCJjb25jYXQiLCJvblN1Z2dlc3RTZWxlY3QiLCJzdWdnZXN0IiwiY2l0eSIsImNvdW50cnkiLCJsaW5lT25lIiwibGluZVR3byIsInBvc3Rjb2RlIiwic3RhdGUiLCJjdXJyZW50IiwiYmx1ciIsIm9uQ2hhbmdlQ291bnRyeVN0YXRlIiwiYWRkciIsIl91c2VTdGF0ZSIsIl91c2VTdGF0ZTIiLCJhZGRyZXNzRmllbGRzT3BlbiIsInNldEFkZHJlc3NGaWVsZHNPcGVuIiwidG9nZ2xlQWRkcmVzc0ZpZWxkc09wZW4iLCJhZGRyZXNzRm9ybSIsImNoaWxkcmVuIiwibGFiZWwiLCJydWxlcyIsInJlcXVpcmVkIiwiY2xhc3NOYW1lIiwiZGVmYXVsdFZhbHVlIiwicmVuZGVyIiwiX3JlZjIiLCJmaWVsZCIsImNsYXNzZXMiLCJvbkNoYW5nZSIsInZhbCIsInZhbHVlVHlwZSIsIl9yZWYzIiwiY291bnRyeVZhbHVlVHlwZSIsInJlZiIsInN0eWxlIiwiaW5wdXQiLCJjb2xvciIsImluaXRpYWxWYWx1ZSIsImlucHV0Q2xhc3NOYW1lIiwic3VnZ2VzdHNDbGFzc05hbWUiLCJzdWdnZXN0SXRlbUNsYXNzTmFtZSIsInR5cGVzIiwiaXNPcGVuIiwiaWNvbiIsIm9uQ2xpY2siXSwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9mb3Jtcy9JbnB1dHNBZGRyZXNzLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBHZW9zdWdnZXN0IGZyb20gJ3JlYWN0LWdlb3N1Z2dlc3QnO1xuaW1wb3J0IHsgQ291bnRyeURyb3Bkb3duLCBSZWdpb25Ecm9wZG93biB9IGZyb20gJ3JlYWN0LWNvdW50cnktcmVnaW9uLXNlbGVjdG9yJztcbmltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tICdyZWFjdC1ob29rLWZvcm0nO1xuaW1wb3J0IElucHV0VGV4dCBmcm9tICcuL0lucHV0VGV4dCc7XG5pbXBvcnQgeyB1c2VNZXJjaGlDaGVja2JvdXRDb250ZXh0IH0gZnJvbSAnLi4vTWVyY2hpQ2hlY2tvdXRQcm92aWRlcic7XG5pbXBvcnQgeyBhZGRyZXNzSW5PbmVMaW5lLCBnZW9TdWdnZXN0UmVzdWx0QXNOZXdBZGRyZXNzIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgRm9udEF3ZXNvbWVJY29uIH0gZnJvbSAnQGZvcnRhd2Vzb21lL3JlYWN0LWZvbnRhd2Vzb21lJztcbmltcG9ydCB7IGZhVGltZXMsIGZhRWRpdCwgZmFFeGNsYW1hdGlvblRyaWFuZ2xlIH0gZnJvbSAnQGZvcnRhd2Vzb21lL2ZyZWUtc29saWQtc3ZnLWljb25zJztcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IENvbGxhcHNlIGZyb20gJy4uL0NvbGxhcHNlJztcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgZGVmYXVsdEFkZHJlc3M/OiBhbnk7XG4gIGxhYmVsR2VvU3VnZ2VzdD86IHN0cmluZztcbiAgaG9va0Zvcm06IGFueTtcbiAgbmFtZTogc3RyaW5nO1xuICBwbGFjZWhvbGRlcj86IHN0cmluZztcbiAgdXBkYXRlQWRkcmVzczogKGFkZHJlc3M6IGFueSkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIElucHV0c0FkZHJlc3Moe1xuICBkZWZhdWx0QWRkcmVzcyA9IHt9LFxuICBsYWJlbEdlb1N1Z2dlc3QgPSAnQWRkcmVzcycsXG4gIGhvb2tGb3JtLFxuICBuYW1lLFxuICBwbGFjZWhvbGRlciA9ICdTZWFyY2ggeW91ciBhZGRyZXNzJyxcbiAgdXBkYXRlQWRkcmVzc1xufTogUHJvcHMpIHtcbiAgY29uc3QgZ2Vvc3VnZ2VzdEVsID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCB7XG4gICAgZ29vZ2xlUGxhY2VzTG9hZGVkLFxuICAgIGNsYXNzTmFtZU1lcmNoaUNoZWNrb3V0Rm9ybUdyb3VwLFxuICAgIGNsYXNzTmFtZU1lcmNoaUNoZWNrb3V0Rm9ybUlucHV0LFxuICAgIGNsYXNzTmFtZU1lcmNoaUNoZWNrb3V0Um93LFxuICAgIGNsYXNzTmFtZU1lcmNoaUNoZWNrb3V0Um93Q29sdW1uLFxuICAgIGNsYXNzTmFtZU1lcmNoaUNoZWNrb3V0R29vZ2xlU3VnZ2VzdExpc3QsXG4gICAgY2xhc3NOYW1lTWVyY2hpQ2hlY2tvdXRHb29nbGVTdWdnZXN0TGlzdEl0ZW0sXG4gIH0gPSB1c2VNZXJjaGlDaGVja2JvdXRDb250ZXh0KCk7XG5cbiAgY29uc3Qge1xuICAgIGNvbnRyb2wsXG4gICAgZm9ybVN0YXRlOiB7IGVycm9ycywgaXNWYWxpZCwgc3VibWl0Q291bnQgfSxcbiAgICBzZXRWYWx1ZSxcbiAgICBnZXRWYWx1ZXMsXG4gIH0gPSBob29rRm9ybTtcbiAgY29uc3QgaW5wdXROYW1lID0gKF9uYW1lOiBzdHJpbmcpID0+IGAke25hbWUgPyBgJHtuYW1lfS5gIDogJyd9JHtfbmFtZX1gO1xuICBmdW5jdGlvbiBvblN1Z2dlc3RTZWxlY3Qoc3VnZ2VzdDogYW55KSB7XG4gICAgaWYgKHN1Z2dlc3QpIHtcbiAgICAgIHVwZGF0ZUFkZHJlc3MoZ2VvU3VnZ2VzdFJlc3VsdEFzTmV3QWRkcmVzcyhzdWdnZXN0KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVwZGF0ZUFkZHJlc3Moe1xuICAgICAgICBjaXR5OiAnJyxcbiAgICAgICAgY291bnRyeTogJycsXG4gICAgICAgIGxpbmVPbmU6ICcnLFxuICAgICAgICBsaW5lVHdvOiAnJyxcbiAgICAgICAgcG9zdGNvZGU6ICcnLFxuICAgICAgICBzdGF0ZTogJycsXG4gICAgICB9KTtcbiAgICB9XG4gICAgKGdlb3N1Z2dlc3RFbCBhcyBhbnkpLmN1cnJlbnQuYmx1cigpO1xuICB9XG4gIGZ1bmN0aW9uIG9uQ2hhbmdlQ291bnRyeVN0YXRlKCkge1xuICAgIGNvbnN0IGFkZHIgPSBnZXRWYWx1ZXMoKTtcbiAgICB1cGRhdGVBZGRyZXNzKGFkZHJbbmFtZV0pO1xuICB9XG4gIGNvbnN0IFthZGRyZXNzRmllbGRzT3Blbiwgc2V0QWRkcmVzc0ZpZWxkc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCB0b2dnbGVBZGRyZXNzRmllbGRzT3BlbiA9ICgpID0+IHNldEFkZHJlc3NGaWVsZHNPcGVuKCFhZGRyZXNzRmllbGRzT3Blbik7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc1ZhbGlkICYmICFhZGRyZXNzRmllbGRzT3BlbiAmJiBzdWJtaXRDb3VudCA+IDApIHtcbiAgICAgIHRvZ2dsZUFkZHJlc3NGaWVsZHNPcGVuKCk7XG4gICAgfVxuICB9LCBbaXNWYWxpZCwgc3VibWl0Q291bnRdKTtcbiAgY29uc3QgYWRkcmVzc0Zvcm0gPSAoXG4gICAgPD5cbiAgICAgIDxJbnB1dFRleHRcbiAgICAgICAgY29udHJvbD17Y29udHJvbH1cbiAgICAgICAgbGFiZWw9XCJBZGRyZXNzIGxpbmUgb25lXCJcbiAgICAgICAgbmFtZT17aW5wdXROYW1lKFwibGluZU9uZVwiKX1cbiAgICAgICAgcGxhY2Vob2xkZXI9XCIxMjMgRmFrZSBzdFwiXG4gICAgICAgIHJ1bGVzPXt7IHJlcXVpcmVkOiAnQWRkcmVzcyBsaW5lIG9uZSBpcyByZXF1aXJlZC4nIH19XG4gICAgICAvPlxuICAgICAgPElucHV0VGV4dFxuICAgICAgICBjb250cm9sPXtjb250cm9sfVxuICAgICAgICBsYWJlbD1cIkNvbnRpbnVlIGFkZHJlc3NcIlxuICAgICAgICBuYW1lPXtpbnB1dE5hbWUoXCJsaW5lVHdvXCIpfVxuICAgICAgICBwbGFjZWhvbGRlcj1cIkNvbnRpbnVlIGFkZHJlc3MuLi5cIlxuICAgICAgLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVNZXJjaGlDaGVja291dFJvd30+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVNZXJjaGlDaGVja291dFJvd0NvbHVtbn0+XG4gICAgICAgICAgPElucHV0VGV4dFxuICAgICAgICAgICAgY29udHJvbD17Y29udHJvbH1cbiAgICAgICAgICAgIGxhYmVsPVwiQ2l0eSAvIFByb3ZpbmNlXCJcbiAgICAgICAgICAgIG5hbWU9e2lucHV0TmFtZShcImNpdHlcIil9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkNpdHlcIlxuICAgICAgICAgICAgcnVsZXM9e3sgcmVxdWlyZWQ6ICdDaXR5IC8gUHJvdmluY2UgaXMgcmVxdWlyZWQuJyB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lTWVyY2hpQ2hlY2tvdXRSb3dDb2x1bW59PlxuICAgICAgICAgIDxJbnB1dFRleHRcbiAgICAgICAgICAgIGNvbnRyb2w9e2NvbnRyb2x9XG4gICAgICAgICAgICBsYWJlbD1cIlBvc3QgLyBaaXAgY29kZVwiXG4gICAgICAgICAgICBuYW1lPXtpbnB1dE5hbWUoXCJwb3N0Y29kZVwiKX1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiOTAyMTBcIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lTWVyY2hpQ2hlY2tvdXRSb3d9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lTWVyY2hpQ2hlY2tvdXRSb3dDb2x1bW59PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVNZXJjaGlDaGVja291dEZvcm1Hcm91cH0+XG4gICAgICAgICAgICA8bGFiZWw+Q291bnRyeTwvbGFiZWw+XG4gICAgICAgICAgICA8Q29udHJvbGxlclxuICAgICAgICAgICAgICBuYW1lPXtpbnB1dE5hbWUoXCJjb3VudHJ5XCIpfVxuICAgICAgICAgICAgICBjb250cm9sPXtjb250cm9sfVxuICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2RlZmF1bHRBZGRyZXNzICYmIGRlZmF1bHRBZGRyZXNzLmNvdW50cnl9XG4gICAgICAgICAgICAgIHJlbmRlcj17KHsgZmllbGQgfTogYW55KSA9PiAoXG4gICAgICAgICAgICAgICAgPENvdW50cnlEcm9wZG93blxuICAgICAgICAgICAgICAgICAgey4uLmZpZWxkfVxuICAgICAgICAgICAgICAgICAgLy8gdmFsdWU9e2RlZmF1bHRBZGRyZXNzICYmIGRlZmF1bHRBZGRyZXNzLmNvdW50cnl9XG4gICAgICAgICAgICAgICAgICBjbGFzc2VzPXtjbGFzc05hbWVNZXJjaGlDaGVja291dEZvcm1JbnB1dH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldFZhbHVlKGlucHV0TmFtZShcImNvdW50cnlcIiksIHZhbCk7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLm9uQ2hhbmdlKHZhbCk7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlQ291bnRyeVN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgdmFsdWVUeXBlPSdzaG9ydCdcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVNZXJjaGlDaGVja291dFJvd0NvbHVtbn0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZU1lcmNoaUNoZWNrb3V0Rm9ybUdyb3VwfT5cbiAgICAgICAgICAgIDxsYWJlbD5TdGF0ZSAvIFJlZ2lvbjwvbGFiZWw+XG4gICAgICAgICAgICA8Q29udHJvbGxlclxuICAgICAgICAgICAgICBuYW1lPXtpbnB1dE5hbWUoXCJzdGF0ZVwiKX1cbiAgICAgICAgICAgICAgY29udHJvbD17Y29udHJvbH1cbiAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtkZWZhdWx0QWRkcmVzcyAmJiBkZWZhdWx0QWRkcmVzcy5zdGF0ZX1cbiAgICAgICAgICAgICAgcmVuZGVyPXsoeyBmaWVsZCB9OiBhbnkpID0+IChcbiAgICAgICAgICAgICAgICA8UmVnaW9uRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgIHsuLi5maWVsZH1cbiAgICAgICAgICAgICAgICAgIC8vIHZhbHVlPXtkZWZhdWx0QWRkcmVzcyAmJiBkZWZhdWx0QWRkcmVzcy5zdGF0ZX1cbiAgICAgICAgICAgICAgICAgIGNvdW50cnlWYWx1ZVR5cGU9XCJzaG9ydFwiXG4gICAgICAgICAgICAgICAgICBjb3VudHJ5PXtnZXRWYWx1ZXMoaW5wdXROYW1lKFwiY291bnRyeVwiKSl9XG4gICAgICAgICAgICAgICAgICBjbGFzc2VzPXtjbGFzc05hbWVNZXJjaGlDaGVja291dEZvcm1JbnB1dH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldFZhbHVlKGlucHV0TmFtZShcInN0YXRlXCIpLCB2YWwpO1xuICAgICAgICAgICAgICAgICAgICBmaWVsZC5vbkNoYW5nZSh2YWwpO1xuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZUNvdW50cnlTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZT0nc2hvcnQnXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC8+XG4gICk7XG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIHtnb29nbGVQbGFjZXNMb2FkZWRcbiAgICAgICAgPyA8PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZU1lcmNoaUNoZWNrb3V0Rm9ybUdyb3VwfT5cbiAgICAgICAgICAgICAgPGxhYmVsPntsYWJlbEdlb1N1Z2dlc3R9PC9sYWJlbD5cbiAgICAgICAgICAgICAgPEdlb3N1Z2dlc3RcbiAgICAgICAgICAgICAgICByZWY9e2dlb3N1Z2dlc3RFbH1cbiAgICAgICAgICAgICAgICBzdHlsZT17e2lucHV0OiB7Jzo6cGxhY2Vob2xkZXInOiB7Y29sb3I6ICcjNTI1ZjdmJ319fX1cbiAgICAgICAgICAgICAgICBpbml0aWFsVmFsdWU9e2FkZHJlc3NJbk9uZUxpbmUoZGVmYXVsdEFkZHJlc3MpfVxuICAgICAgICAgICAgICAgIGlucHV0Q2xhc3NOYW1lPXtjbGFzc05hbWVNZXJjaGlDaGVja291dEZvcm1JbnB1dH1cbiAgICAgICAgICAgICAgICBvblN1Z2dlc3RTZWxlY3Q9e29uU3VnZ2VzdFNlbGVjdH1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17cGxhY2Vob2xkZXJ9XG4gICAgICAgICAgICAgICAgc3VnZ2VzdHNDbGFzc05hbWU9e2NsYXNzTmFtZU1lcmNoaUNoZWNrb3V0R29vZ2xlU3VnZ2VzdExpc3R9XG4gICAgICAgICAgICAgICAgc3VnZ2VzdEl0ZW1DbGFzc05hbWU9e2NsYXNzTmFtZU1lcmNoaUNoZWNrb3V0R29vZ2xlU3VnZ2VzdExpc3RJdGVtfVxuICAgICAgICAgICAgICAgIHR5cGVzPXtbJ2VzdGFibGlzaG1lbnQnLCAnZ2VvY29kZSddfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8Q29sbGFwc2UgaXNPcGVuPXthZGRyZXNzRmllbGRzT3Blbn0+XG4gICAgICAgICAgICAgIHthZGRyZXNzRm9ybX1cbiAgICAgICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlcic+XG4gICAgICAgICAgICAgIHshIWVycm9ycy5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndGV4dC1kYW5nZXInPlxuICAgICAgICAgICAgICAgICAgPEZvbnRBd2Vzb21lSWNvblxuICAgICAgICAgICAgICAgICAgICBpY29uPXtmYUV4Y2xhbWF0aW9uVHJpYW5nbGV9XG4gICAgICAgICAgICAgICAgICAvPiBJbnZhbGlkIGFkZHJlc3MhXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BtbC1hdXRvIGJ0biBidG4tc20gYnRuLWxpbmsgJHshIWVycm9ycy5sZW5ndGggJiYgJ3RleHQtZGFuZ2VyJ31gfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZUFkZHJlc3NGaWVsZHNPcGVufVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPEZvbnRBd2Vzb21lSWNvblxuICAgICAgICAgICAgICAgICAgaWNvbj17YWRkcmVzc0ZpZWxkc09wZW4gPyBmYVRpbWVzIDogZmFFZGl0fVxuICAgICAgICAgICAgICAgIC8+IHthZGRyZXNzRmllbGRzT3BlbiA/ICdDbG9zZScgOiAnRWRpdCBmaWVsZHMnfVxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8Lz5cbiAgICAgICAgOiBhZGRyZXNzRm9ybVxuICAgICAgfSBcbiAgICA8Lz5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgSW5wdXRzQWRkcmVzcztcbiJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFBQyxTQUFBQSxRQUFBQyxDQUFBLHNDQUFBRCxPQUFBLHdCQUFBRSxNQUFBLHVCQUFBQSxNQUFBLENBQUFDLFFBQUEsYUFBQUYsQ0FBQSxrQkFBQUEsQ0FBQSxnQkFBQUEsQ0FBQSxXQUFBQSxDQUFBLHlCQUFBQyxNQUFBLElBQUFELENBQUEsQ0FBQUcsV0FBQSxLQUFBRixNQUFBLElBQUFELENBQUEsS0FBQUMsTUFBQSxDQUFBRyxTQUFBLHFCQUFBSixDQUFBLEtBQUFELE9BQUEsQ0FBQUMsQ0FBQTtBQUFBLFNBQUFLLFFBQUFDLENBQUEsRUFBQUMsQ0FBQSxRQUFBQyxDQUFBLEdBQUFDLE1BQUEsQ0FBQUMsSUFBQSxDQUFBSixDQUFBLE9BQUFHLE1BQUEsQ0FBQUUscUJBQUEsUUFBQVgsQ0FBQSxHQUFBUyxNQUFBLENBQUFFLHFCQUFBLENBQUFMLENBQUEsR0FBQUMsQ0FBQSxLQUFBUCxDQUFBLEdBQUFBLENBQUEsQ0FBQVksTUFBQSxXQUFBTCxDQUFBLFdBQUFFLE1BQUEsQ0FBQUksd0JBQUEsQ0FBQVAsQ0FBQSxFQUFBQyxDQUFBLEVBQUFPLFVBQUEsT0FBQU4sQ0FBQSxDQUFBTyxJQUFBLENBQUFDLEtBQUEsQ0FBQVIsQ0FBQSxFQUFBUixDQUFBLFlB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