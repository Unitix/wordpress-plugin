'use client';

import { useMerchiCheckboutContext } from './MerchiCheckoutProvider';
import { tabIdPayment } from '../tabs_utils';
import TitleStep from './TitleStep';
import TabPane from './TabPane';
import MerchiInvoice from 'merchi_invoice';
import { redirectOnSuccess } from '../utils';
import { jsx as _jsx } from "react/jsx-runtime";
import { jsxs as _jsxs } from "react/jsx-runtime";
function TabPanePayment() {
  var _useMerchiCheckboutCo = useMerchiCheckboutContext(),
    alertErrorShow = _useMerchiCheckboutCo.alertErrorShow,
    classNameMerchiCheckoutButtonDownloadInvoice = _useMerchiCheckboutCo.classNameMerchiCheckoutButtonDownloadInvoice,
    classNameMerchiInvoiceButtonPayInvoice = _useMerchiCheckboutCo.classNameMerchiInvoiceButtonPayInvoice,
    invoice = _useMerchiCheckboutCo.invoice,
    nextTab = _useMerchiCheckboutCo.nextTab,
    redirectAfterSuccessUrl = _useMerchiCheckboutCo.redirectAfterSuccessUrl,
    redirectWithValue = _useMerchiCheckboutCo.redirectWithValue,
    setInvoice = _useMerchiCheckboutCo.setInvoice,
    urlApi = _useMerchiCheckboutCo.urlApi;
  return /*#__PURE__*/_jsxs(TabPane, {
    tabId: tabIdPayment,
    children: [/*#__PURE__*/_jsx(TitleStep, {
      title: "Checkout / Payment"
    }), /*#__PURE__*/_jsx("div", {
      className: "d-flex checkout-border-top",
      children: /*#__PURE__*/_jsx("div", {
        className: "w-100 mt-3",
        children: invoice && /*#__PURE__*/_jsx(MerchiInvoice, {
          alertErrorShow: alertErrorShow,
          callbackCreditCardPaymentSuccess: function callbackCreditCardPaymentSuccess(i) {
            if (redirectAfterSuccessUrl) {
              var _i$invoice;
              redirectOnSuccess(redirectAfterSuccessUrl, redirectWithValue, i === null || i === void 0 || (_i$invoice = i.invoice) === null || _i$invoice === void 0 ? void 0 : _i$invoice.totalCost);
            } else {
              setInvoice(i.invoice);
              nextTab();
            }
          },
          classNameMerchiInvoiceButtonDownloadInvoice: classNameMerchiCheckoutButtonDownloadInvoice,
          classNameMerchiInvoiceButtonPayInvoice: classNameMerchiInvoiceButtonPayInvoice,
          invoice: invoice,
          urlApi: urlApi
        })
      })
    })]
  });
}
export default TabPanePayment;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VNZXJjaGlDaGVja2JvdXRDb250ZXh0IiwidGFiSWRQYXltZW50IiwiVGl0bGVTdGVwIiwiVGFiUGFuZSIsIk1lcmNoaUludm9pY2UiLCJyZWRpcmVjdE9uU3VjY2VzcyIsImpzeCIsIl9qc3giLCJqc3hzIiwiX2pzeHMiLCJUYWJQYW5lUGF5bWVudCIsIl91c2VNZXJjaGlDaGVja2JvdXRDbyIsImFsZXJ0RXJyb3JTaG93IiwiY2xhc3NOYW1lTWVyY2hpQ2hlY2tvdXRCdXR0b25Eb3dubG9hZEludm9pY2UiLCJjbGFzc05hbWVNZXJjaGlJbnZvaWNlQnV0dG9uUGF5SW52b2ljZSIsImludm9pY2UiLCJuZXh0VGFiIiwicmVkaXJlY3RBZnRlclN1Y2Nlc3NVcmwiLCJyZWRpcmVjdFdpdGhWYWx1ZSIsInNldEludm9pY2UiLCJ1cmxBcGkiLCJ0YWJJZCIsImNoaWxkcmVuIiwidGl0bGUiLCJjbGFzc05hbWUiLCJjYWxsYmFja0NyZWRpdENhcmRQYXltZW50U3VjY2VzcyIsImkiLCJfaSRpbnZvaWNlIiwidG90YWxDb3N0IiwiY2xhc3NOYW1lTWVyY2hpSW52b2ljZUJ1dHRvbkRvd25sb2FkSW52b2ljZSJdLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb21wb25lbnRzL1RhYlBhbmVQYXltZW50LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5pbXBvcnQgeyB1c2VNZXJjaGlDaGVja2JvdXRDb250ZXh0IH0gZnJvbSAnLi9NZXJjaGlDaGVja291dFByb3ZpZGVyJztcbmltcG9ydCB7IHRhYklkUGF5bWVudCB9IGZyb20gJy4uL3RhYnNfdXRpbHMnO1xuaW1wb3J0IFRpdGxlU3RlcCBmcm9tICcuL1RpdGxlU3RlcCc7XG5pbXBvcnQgVGFiUGFuZSBmcm9tICcuL1RhYlBhbmUnO1xuaW1wb3J0IE1lcmNoaUludm9pY2UgZnJvbSAnbWVyY2hpX2ludm9pY2UnO1xuaW1wb3J0IHsgcmVkaXJlY3RPblN1Y2Nlc3MgfSBmcm9tICcuLi91dGlscydcblxuZnVuY3Rpb24gVGFiUGFuZVBheW1lbnQoKSB7XG4gIGNvbnN0IHtcbiAgICBhbGVydEVycm9yU2hvdyxcbiAgICBjbGFzc05hbWVNZXJjaGlDaGVja291dEJ1dHRvbkRvd25sb2FkSW52b2ljZSxcbiAgICBjbGFzc05hbWVNZXJjaGlJbnZvaWNlQnV0dG9uUGF5SW52b2ljZSxcbiAgICBpbnZvaWNlLFxuICAgIG5leHRUYWIsXG4gICAgcmVkaXJlY3RBZnRlclN1Y2Nlc3NVcmwsXG4gICAgcmVkaXJlY3RXaXRoVmFsdWUsXG4gICAgc2V0SW52b2ljZSxcbiAgICB1cmxBcGksXG4gIH0gPSB1c2VNZXJjaGlDaGVja2JvdXRDb250ZXh0KCk7XG4gIHJldHVybiAoXG4gICAgPFRhYlBhbmUgdGFiSWQ9e3RhYklkUGF5bWVudH0+XG4gICAgICA8VGl0bGVTdGVwIHRpdGxlPSdDaGVja291dCAvIFBheW1lbnQnIC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGNoZWNrb3V0LWJvcmRlci10b3AnPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgbXQtMyc+XG4gICAgICAgICAge2ludm9pY2UgJiYgKFxuICAgICAgICAgICAgPE1lcmNoaUludm9pY2VcbiAgICAgICAgICAgICAgYWxlcnRFcnJvclNob3c9e2FsZXJ0RXJyb3JTaG93fVxuICAgICAgICAgICAgICBjYWxsYmFja0NyZWRpdENhcmRQYXltZW50U3VjY2Vzcz17KGk6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZWRpcmVjdEFmdGVyU3VjY2Vzc1VybCkge1xuICAgICAgICAgICAgICAgICAgcmVkaXJlY3RPblN1Y2Nlc3MocmVkaXJlY3RBZnRlclN1Y2Nlc3NVcmwsIHJlZGlyZWN0V2l0aFZhbHVlLCBpPy5pbnZvaWNlPy50b3RhbENvc3QpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzZXRJbnZvaWNlKGkuaW52b2ljZSk7XG4gICAgICAgICAgICAgICAgICBuZXh0VGFiKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBjbGFzc05hbWVNZXJjaGlJbnZvaWNlQnV0dG9uRG93bmxvYWRJbnZvaWNlPXtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWVNZXJjaGlDaGVja291dEJ1dHRvbkRvd25sb2FkSW52b2ljZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZU1lcmNoaUludm9pY2VCdXR0b25QYXlJbnZvaWNlPXtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWVNZXJjaGlJbnZvaWNlQnV0dG9uUGF5SW52b2ljZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGludm9pY2U9e2ludm9pY2V9XG4gICAgICAgICAgICAgIHVybEFwaT17dXJsQXBpfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvVGFiUGFuZT5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgVGFiUGFuZVBheW1lbnQ7XG4iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBQ1osU0FBU0EseUJBQXlCLFFBQVEsMEJBQTBCO0FBQ3BFLFNBQVNDLFlBQVksUUFBUSxlQUFlO0FBQzVDLE9BQU9DLFNBQVMsTUFBTSxhQUFhO0FBQ25DLE9BQU9DLE9BQU8sTUFBTSxXQUFXO0FBQy9CLE9BQU9DLGFBQWEsTUFBTSxnQkFBZ0I7QUFDMUMsU0FBU0MsaUJBQWlCLFFBQVEsVUFBVTtBQUFBLFNBQUFDLEdBQUEsSUFBQUMsSUFBQTtBQUFBLFNBQUFDLElBQUEsSUFBQUMsS0FBQTtBQUU1QyxTQUFTQyxjQUFjQSxDQUFBLEVBQUc7RUFDeEIsSUFBQUMscUJBQUEsR0FVSVgseUJBQXlCLENBQUMsQ0FBQztJQVQ3QlksY0FBYyxHQUFBRCxxQkFBQSxDQUFkQyxjQUFjO0lBQ2RDLDRDQUE0QyxHQUFBRixxQkFBQSxDQUE1Q0UsNENBQTRDO0lBQzVDQyxzQ0FBc0MsR0FBQUgscUJBQUEsQ0FBdENHLHNDQUFzQztJQUN0Q0MsT0FBTyxHQUFBSixxQkFBQSxDQUFQSSxPQUFPO0lBQ1BDLE9BQU8sR0FBQUwscUJBQUEsQ0FBUEssT0FBTztJQUNQQyx1QkFBdUIsR0FBQU4scUJBQUEsQ0FBdkJNLHVCQUF1QjtJQUN2QkMsaUJBQWlCLEdBQUFQLHFCQUFBLENBQWpCTyxpQkFBaUI7SUFDakJDLFVBQVUsR0FBQVIscUJBQUEsQ0FBVlEsVUFBVTtJQUNWQyxNQUFNLEdBQUFULHFCQUFBLENBQU5TLE1BQU07RUFFUixvQkFDRVgsS0FBQSxDQUFDTixPQUFPO0lBQUNrQixLQUFLLEVBQUVwQixZQUFhO0lBQUFxQixRQUFBLGdCQUMzQmYsSUFBQSxDQUFDTCxTQUFTO01BQUNxQixLQUFLLEVBQUM7SUFBb0IsQ0FBRSxDQUFDLGVBQ3hDaEIsSUFBQTtNQUFLaUIsU0FBUyxFQUFDLDRCQUE0QjtNQUFBRixRQUFBLGVBQ3pDZixJQUFBO1FBQUtpQixTQUFTLEVBQUMsWUFBWTtRQUFBRixRQUFBLEVBQ3hCUCxPQUFPLGlCQUNOUixJQUFBLENBQUNILGFBQWE7VUFDWlEsY0FBYyxFQUFFQSxjQUFlO1VBQy9CYSxnQ0FBZ0MsRUFBRSxTQUFBQSxpQ0FBQ0MsQ0FBTSxFQUFLO1lBQzVDLElBQUlULHVCQUF1QixFQUFFO2NBQUEsSUFBQVUsVUFBQTtjQUMzQnRCLGlCQUFpQixDQUFDWSx1QkFBdUIsRUFBRUMsaUJBQWlCLEVBQUVRLENBQUMsYUFBREEsQ0FBQyxnQkFBQUMsVUFBQSxHQUFERCxDQUFDLENBQUVYLE9BQU8sY0FBQVksVUFBQSx1QkFBVkEsVUFBQSxDQUFZQyxTQUFTLENBQUM7WUFDdEYsQ0FBQyxNQUFNO2NBQ0xULFVBQVUsQ0FBQ08sQ0FBQyxDQUFDWCxPQUFPLENBQUM7Y0FDckJDLE9BQU8sQ0FBQyxDQUFDO1lBQ1g7VUFDRixDQUFFO1VBQ0ZhLDJDQUEyQyxFQUN6Q2hCLDRDQUNEO1VBQ0RDLHNDQUFzQyxFQUNwQ0Esc0NBQ0Q7VUFDREMsT0FBTyxFQUFFQSxPQUFRO1VBQ2pCSyxNQUFNLEVBQUVBO1FBQU8sQ0FDaEI7TUFDRixDQUNFO0lBQUMsQ0FDSCxDQUFDO0VBQUEsQ0FDQyxDQUFDO0FBRWQ7QUFFQSxlQUFlVixjQUFjIn0=